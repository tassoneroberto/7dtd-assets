<?xml version="1.0" encoding="utf-8"?>
<!-- ****************** Perk Buffs: Active buffs triggered by Perks ****************** -->
<!-- ****************** Injury Debuffs: Bleeding, Broken Limbs, Stunned, etc. ****************** -->
<!-- ****************** Elemental Debuffs: Hot, Cold, Burning, Freezing, Shock, etc. ****************** -->
<!-- ****************** Illness Debuffs: Dysentery, Pneumonia, etc. ****************** -->
<!-- ****************** Healing Item Buffs: Medical, Food, Drink ****************** -->
<!-- ****************** Item Buffs ****************** -->
<!-- ****************** Player Action Buffs / Procs ****************** -->
<!-- ****************** Deprecated Buffs? (Needs review) ****************** -->

<!--
List of hacks to be removed:

1x Buffs: trigger="OnReloadStop" not working at all

3x Buffs/Progression  onSelfXXXaryActionEnd  does nothing.
-->
<buffs>


	<buff name="bufftest1" icon="ui_game_symbol_infection">
		<stack_type value="ignore"/>
		<duration value="0"/>
		<effect_group>
			<!--
			<requirement name="EntityTagCompare" tags="player"/>
			<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_electric_shock" local_offset="0,0.75,0"/>
			<triggered_effect trigger="onSelfBuffFinish" action="RemoveParticleEffectFromEntity" particle="p_electric_shock" />
			<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="staminamaxmodifier" operation="subtract" value="2"/>
			<passive_effect name="ReloadSpeedMultiplier" operation="perc_add" value="3.3"/>

			-->
			<triggered_effect trigger="onSelfPrimaryActionStart" action="LogMessage" message="fired: onSelfPrimaryActionStart"/>
			<triggered_effect trigger="onSelfSecondaryActionStart" action="LogMessage" message="fired: onSelfSecondaryActionStart"/>

			<triggered_effect trigger="onSelfPrimaryActionEnd" action="LogMessage" message="fired: onSelfPrimaryActionEnd"/>
			<triggered_effect trigger="onSelfSecondaryActionEnd" action="LogMessage" message="fired: onSelfSecondaryActionEnd"/>

			<passive_effect name="StaminaChangeOT" operation="perc_add" value="20"/>
		</effect_group>
<!--
			<passive_effect name="HealthChangeOT" operation="base_add" value="-.3" />

				<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="not player">
					<requirement name="EntityTagCompare" tags="player"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="not Zombie">
					<requirement name="EntityTagCompare" tags="zombie" invert="true"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="not Animal">
					<requirement name="EntityTagCompare" tags="animal" invert="true"/>
				</triggered_effect>
-->

	</buff>

	<!-- The god mode buff will be triggered...
	...in normal gameplay with dm on when you press the god mode button. Pressing god mode again turns it off.
	...in creative mode you start with the god buff and it's not removed regardless of pressing the godmode button.
	...in editor (developer) mode you start with the god buff and it's not removed regardless of pressing the godmode button. -->
	<buff name="god" name_key="buffGodModeName" description_key="buffGodModeDesc" tooltip_key="buffGodModeTooltip" icon="ui_game_symbol_add" icon_color="132,0,155">
		<stack_type value="ignore"/>
		<effect_group>
			<passive_effect name="HealthLoss" operation="base_set" value="0"/>
			<passive_effect name="HealthLoss" operation="perc_set" value="0"/>
			<passive_effect name="HealthChangeOT" operation="perc_set" value="0" />
			<passive_effect name="WaterChangeOT" operation="perc_set" value="0" />
			<passive_effect name="StaminaChangeOT" operation="perc_add" value="1000" />
			<passive_effect name="HealthMaxModifierOT" operation="base_add" value="100" />
			<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="100" />
			<passive_effect name="CarryCapacity" operation="base_set" value="45" />
			<passive_effect name="ElementalDamageResist" operation="base_add" value="200" tags="cold,heat,electrical" />
			<passive_effect name="PhysicalDamageResist" operation="base_add" value="200"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveAllNegativeBuffs" target="self"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="set" value="1000"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Water" operation="set" value="1000"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" operation="set" value="1000"/>

			<!--
			<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="Crouching"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="_sheltered"/>
			-->
		</effect_group>
	</buff>

	<buff name="maxedout" icon="ui_game_symbol_perk" icon_color="132,0,155">
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_set" value="10"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="SkillLevel" operation="base_set" value="1"/>
			<passive_effect name="PerkLevel" operation="base_set" value="5"/>
		</effect_group>
	</buff>
	<buff name="buffme" icon="ui_game_symbol_perk" icon_color="132,0,155">
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="nerfme"/>
			<passive_effect name="AttributeLevel" operation="base_set" value="10"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="SkillLevel" operation="base_set" value="1"/>
			<passive_effect name="PerkLevel" operation="base_set" value="5"/>
		</effect_group>
	</buff>
	<buff name="nerfme" icon="ui_game_symbol_perk" icon_color="255,0,0">
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffme"/>
			<passive_effect name="AttributeLevel" operation="base_set" value="1"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="SkillLevel" operation="base_set" value="1"/>
			<passive_effect name="PerkLevel" operation="base_set" value="0"/>
		</effect_group>
	</buff>
	<buff name="messmeup" icon="ui_game_symbol_perk" icon_color="255,0,0">
		<duration value="5"/>
		<effect_group>
			<passive_effect name="WaterChangeOT" operation="base_subtract" value="10"/>
			<passive_effect name="StaminaMaxModifierOT" operation="base_subtract" value="10" />

			<!--
			<passive_effect name="StaminaMaxModifierOT" operation="base_subtract" value="10" />
			<passive_effect name="HealthMaxModifierOT" operation="base_subtract" value="10" />
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmount" operation="set" value="-2"/>
			-->
		</effect_group>
	</buff>

	<buff name="megadamage" icon="ui_game_symbol_destruction2" icon_color="132,0,155">
		<effect_group>
			<passive_effect name="EntityDamage" operation="perc_set" value="100"/>
			<passive_effect name="BlockDamage" operation="perc_set" value="100"/>
			<passive_effect name="StaminaLoss" operation="base_set" value="0" tags="primary,secondary"/>
		</effect_group>
	</buff>

	<buff name="pegasus" icon="ui_game_symbol_agility" icon_color="132,0,155">
		<stack_type value="ignore"/>
		<effect_group>
			<passive_effect name="WalkSpeed" operation="base_set" value="1.65"/>
			<passive_effect name="RunSpeed" operation="base_set" value="4"/>
		</effect_group>
	</buff>

<!--
	<buff name="buffDrunk1" name_key="beers" description_key="drunkDesc" tooltip_key="drunkTooltip" icon="ui_game_symbol_beer">
		<stack_type value="duration"/>
		<duration value="3"/>
		<effect_group>
			<passive_effect name="StaminaChangeOT" operation="base_add" value="2" />
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="ping"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" target="self" enabled="true" intensity="0.45" effect_group="SpawnIn"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" target="self" enabled="false" intensity="0" effect_group="SpawnIn"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffDrunk1"/>
		</effect_group>
	</buff>
-->

	<buff name="buffStatusCheck" hidden="true" remove_on_death="false">
		<stack_type value="ignore"/>
		<update_rate value="2"/>

		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffA17b7patch">
				<requirement name="CVarCompare" cvar="$A17b7patch" operation="LT" value="1"/>
			</triggered_effect>
		</effect_group>

		<effect_group>
				<!--
				<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="$illnessChance"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="$DrowningTimerMax"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="healthPerkIncrease"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="medicPerkIncrease"/>


				<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="$DrunkMelee"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="$DrunkStam"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="$DrunkRes"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="$DrunkHeal"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="$PainTolerance"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="KillStreakTargetCounter"/>
				-->

				<!--
				<triggered_effect trigger="onSelfPrimaryActionStart" action="LogMessage" message="Primary Start"/>
				<triggered_effect trigger="onSelfPrimaryActionEnd" action="LogMessage" message="Primary End"/>
				<triggered_effect trigger="onSelfSecondaryActionStart" action="LogMessage" message="Secondary Start"/>
				<triggered_effect trigger="onSelfSecondaryActionEnd" action="LogMessage" message="Secondary End"/>
				<triggered_effect trigger="onReloadStart" action="LogMessage" message="Reload Start"/>
				<triggered_effect trigger="onReloadStop" action="LogMessage" message="Reload Stop"/>

				<triggered_effect trigger="onSelfFirstSpawn" action="LogMessage" message="Player respawn trigger"/>
				<triggered_effect trigger="onSelfRespawn" action="LogMessage" message="Player respawn trigger"/>
				<triggered_effect trigger="onSelfLeaveGame" action="LogMessage" message="Player entered game trigger"/>
				<triggered_effect trigger="onSelfEnteredGame" action="LogMessage" message="Player entered game trigger"/>

				<triggered_effect trigger="onSelfEquipStart" action="LogMessage" message="Equip Start"/>
				<triggered_effect trigger="onSelfEquipStop" action="LogMessage" message="Equip Stop"/>
				<triggered_effect trigger="onSelfAimingGunStart" action="LogMessage" message="Aiming Start"/>
				<triggered_effect trigger="onSelfAimingGunStop" action="LogMessage" message="Aiming Stop"/>

				<triggered_effect trigger="onSelfHoldingItemCreated" action="LogMessage" message="HoldingItemCreated"/>
			<triggered_effect trigger="onSelfSecondaryActionStart" action="LogMessage" message="onSelfSecondaryActionEnd"/>
				-->


			<triggered_effect trigger="onSelfBuffStart" action="AddJournalEntry" journal="survivalTip"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffStatusHungry1">
				<requirement name="StatComparePercModMaxToMax" stat="Stamina" operation="LTE" value="0.5"/>
				<requirement name="NotHasBuff" buff="buffStatusHungry2"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffStatusHungry2">
				<requirement name="StatComparePercModMaxToMax" stat="Stamina" operation="LTE" value="0.3"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffStatusThirsty1">
				<requirement name="StatComparePercCurrentToMax" stat="Water" operation="LTE" value="0.75"/>
				<requirement name="NotHasBuff" buff="buffStatusThirsty2"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffStatusThirsty2">
				<requirement name="StatComparePercCurrentToMax" stat="Water" operation="LTE" value="0.3"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffStatusWounded">
				<requirement name="StatComparePercModMaxToMax" stat="Health" operation="LTE" value="0.5"/>
			</triggered_effect>

			<!-- Remove particle effect if not on fire, this is a backup removal for remote clients -->
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveParticleEffectFromEntity" particle="p_onFire">
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffUpdate" action="AttachParticleEffectToEntity" particle="p_onFire">
				<requirement name="HasBuff" buff="buffIsOnFire"/>
			</triggered_effect>

			<!-- why? <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffStatusDying">
				<requirement name="StatComparePercModMaxToMax" stat="Health" operation="LTE" value="0.25"/>
			</triggered_effect> -->

			<!-- Minimum cap for "blacked out" water and stamina:
			<passive_effect name="WaterChangeOT" operation="base_add" value="1">
				<requirement name="StatCompareModMax" stat="water" operation="LTE" value="10"/>
			</passive_effect>
			<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="1">
				<requirement name="StatCompareModMax" stat="stamina" operation="LTE" value="10"/>
			</passive_effect>
-->
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffPerkPain">
				<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LTE" value="@PainTolerance"/>
			</triggered_effect>


			<!--<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="_sheltered"/>-->
			<!--<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="_shaded"/>-->
			<!--<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="_wetness"/>-->

			<!-- One time weather survival buff for newbies -->
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffNewbieCoat"/>

			<!-- Weather Survival HOT -->
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffElementHot">
				<requirement name="NotHasBuff" buff="god"/>
				<requirement name="CVarCompare" cvar="_coretemp" operation="GT" value="10"/>
				<requirement name="CVarCompare" cvar="_coretemp" operation="LT" value="30"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffElementHot">
				<requirement name="CVarCompare" cvar="_coretemp" operation="LTE" value="10"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffElementHot">
				<requirement name="CVarCompare" cvar="_coretemp" operation="GTE" value="30"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffElementSweltering">
				<requirement name="NotHasBuff" buff="god"/>
				<requirement name="CVarCompare" cvar="_coretemp" operation="GTE" value="30"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffElementSweltering">
				<requirement name="CVarCompare" cvar="_coretemp" operation="LT" value="30"/>
			</triggered_effect>

			<!-- Weather Survival COLD -->
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffElementCold">
				<requirement name="NotHasBuff" buff="god"/>
				<requirement name="CVarCompare" cvar="_coretemp" operation="GT" value="-30"/>
				<requirement name="CVarCompare" cvar="_coretemp" operation="LT" value="-10"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffElementCold">
				<requirement name="CVarCompare" cvar="_coretemp" operation="GTE" value="-10"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffElementCold">
				<requirement name="CVarCompare" cvar="_coretemp" operation="LTE" value="-30"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffElementFreezing">
				<requirement name="NotHasBuff" buff="god"/>
				<requirement name="CVarCompare" cvar="_coretemp" operation="LTE" value="-30"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffElementFreezing">
				<requirement name="CVarCompare" cvar="_coretemp" operation="GT" value="-30"/>
			</triggered_effect>

			<!-- Weather Survival WETNESS -->
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffElementWet">
				<requirement name="NotHasBuff" buff="god"/>
				<requirement name="CVarCompare" cvar="_wetness" operation="GT" value=".15"/>
			</triggered_effect>

			<!-- Biome radiation effects (simplified! We only use "3" for now) -->
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffRadiation3">
				<requirement name="NotHasBuff" buff="god"/>
				<requirement name="CVarCompare" cvar="_biomeradiation" operation="GT" value="2.5"/>
			</triggered_effect>
			<!--
			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="_biomeradiation"/>
			-->


			<!-- Encumbrance from inventory slots
			This is not tied to the POSITION of the slot you use but the total number of slots used / unlocked. -->
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffEncumberedInv">
				<requirement name="CVarCompare" cvar="_encumberedslots" operation="GT" value="0"/>
			</triggered_effect>

			<!-- Encumbrance from equipped items -->
			<triggered_effect trigger="onSelfEquipStart" action="AddBuff" target="self" buff="buffEncumberedWield">
				<requirement name="NotHasBuff" buff="god"/>
				<requirement name="NotHasBuff" buff="buffEncumberedWield"/>
			</triggered_effect>

			<!-- Reloading -->
			<triggered_effect trigger="onReloadStart" action="AddBuff" target="self" buff="buffReloadMovementPenalty">
				<requirement name="HoldingItemHasTags" tags="reloadPenalty"/>
			</triggered_effect>

			<!-- Aiming -->
			<triggered_effect trigger="onSelfAimingGunStart" action="AddBuff" target="self" buff="buffHoldBreathAiming1">
				<requirement name="HoldingItemHasTags" tags="holdBreathAiming"/>
			</triggered_effect>

			<!-- Drawing a bow -->
			<triggered_effect trigger="onSelfPrimaryActionStart" action="AddBuff" target="self" buff="buffDrawBow1">
				<requirement name="HoldingItemHasTags" tags="bowDrawPenalty"/>
			</triggered_effect>

			<!-- Initialise perk abilities; buff only works onStack so fire it 2x -->
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<!-- Update cvar driven perks on buying perk levels -->
			<triggered_effect trigger="onSelfProgressionUpdate" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<!-- Drowning -->
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffDrowning1">
				<requirement name="CVarCompare" cvar="_underwater" operation="Equals" value="1"/>
				<requirement name="NotHasBuff" buff="buffDrowning1"/>
				<requirement name="NotHasBuff" buff="buffDrowning2"/>
				<requirement name="NotHasBuff" buff="buffDrowning3"/>
			</triggered_effect>

			<!-- Falling -->
			<triggered_effect trigger="onSelfFallImpact" action="AddBuff" target="self" buff="buffPlayerFallingDamage">
				<requirement name="CVarCompare" cvar="_fallSpeed" operation="GTE" value=".15"/>
			</triggered_effect>

			<!-- Crouching -->
			<triggered_effect trigger="onSelfCrouch" action="AddBuff" target="self" buff="buffCrouching"/>

			<!-- Tracking leveling / level up -->
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffLevelUpTracking">
				<requirement name="PlayerLevel" target="self" operation="GT" value="@$LastPlayerLevel"/>
			</triggered_effect>

		</effect_group>
	</buff>

	<buff name="buffA17b7patch" hidden="true" remove_on_death="false">
		<stack_type value="ignore"/>
		<duration value=".8"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$A17b7patch" operation="set" value="1"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffHealHealth"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffHealHealthMax"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffHealStaminaMax"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffHealWaterMax"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffWaterStaminaRegen"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveAllNegativeBuffs" target="self"/>

			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$foodAmountAdd" operation="set" value="55"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$waterAmountAdd" operation="set" value="55"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$foodAmount" operation="set" value="45"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$waterAmount" operation="set" value="45"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffProcessConsumables"/>
		</effect_group>
	</buff>

	<buff name="buffLevelUpTracking" hidden="true" remove_on_death="false">
		<stack_type value="ignore"/>
		<duration value="20"/>
		<update_rate value=".1"/>

		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LastPlayerLevel" operation="add" value="1">
				<requirement name="PlayerLevel" target="self" operation="GT" value="@$LastPlayerLevel"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$xpFromLootThisLevel" operation="set" value="@_xpFromLoot"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$xpFromHarvestingThisLevel" operation="set" value="@_xpFromHarvesting"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$xpFromKillThisLevel" operation="set" value="@_xpFromKill"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$xpFromLootThisLevel" operation="subtract" value="@$xpFromLootLast"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$xpFromHarvestingThisLevel" operation="subtract" value="@$xpFromHarvestingLast"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$xpFromKillThisLevel" operation="subtract" value="@$xpFromKillLast"/>

			<triggered_effect trigger="onSelfBuffStart" action="LogMessage" message="XP gained during the last level:"/>
			<triggered_effect trigger="onSelfBuffStart" action="CVarLogValue" target="self" cvar="$xpFromLootThisLevel"/>
			<triggered_effect trigger="onSelfBuffStart" action="CVarLogValue" target="self" cvar="$xpFromHarvestingThisLevel"/>
			<triggered_effect trigger="onSelfBuffStart" action="CVarLogValue" target="self" cvar="$xpFromKillThisLevel"/>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$xpFromLootLast" operation="set" value="@_xpFromLoot"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$xpFromHarvestingLast" operation="set" value="@_xpFromHarvesting"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$xpFromKillLast" operation="set" value="@_xpFromKill"/>

			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$xpFromLootThisLevel" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$xpFromHarvestingThisLevel" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$xpFromKillThisLevel" operation="set" value="0"/>
		</effect_group>
	</buff>

	<buff name="buffPerkAbilityUpdate" hidden="true" remove_on_death="false">
		<!-- There is no trigger for a perk being lowered by the governing attribute dropping below a perk level's requirement. -->
		<stack_type value="replace"/>
		<effect_group>
			<!-- <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$DrunkMelee" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$DrunkStam" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$DrunkRes" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$DrunkHeal" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$PainTolerance" operation="set" value="0"/> -->
			<triggered_effect trigger="onSelfDied" action="ModifyCVar" target="self" cvar="KillStreakTargetCounter" operation="set" value="0"/>

			<!-- <triggered_effect trigger="onSelfRespawn" action="ModifyCVar" target="self" cvar="$DrunkMelee" operation="set" value="0"/>
			<triggered_effect trigger="onSelfRespawn" action="ModifyCVar" target="self" cvar="$DrunkStam" operation="set" value="0"/>
			<triggered_effect trigger="onSelfRespawn" action="ModifyCVar" target="self" cvar="$DrunkRes" operation="set" value="0"/>
			<triggered_effect trigger="onSelfRespawn" action="ModifyCVar" target="self" cvar="$DrunkHeal" operation="set" value="0"/>
			<triggered_effect trigger="onSelfRespawn" action="ModifyCVar" target="self" cvar="$PainTolerance" operation="set" value="0"/> -->

			<!-- perkIntrinsicImmunity update; will likely have to overhaul diseases but... not now -->
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$illnessChance" operation="set" value="20">
				<requirement name="ProgressionLevel" progression_name="perkIntrinsicImmunity" operation="Equals" value="0"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$illnessChance" operation="set" value="18">
				<requirement name="ProgressionLevel" progression_name="perkIntrinsicImmunity" operation="Equals" value="1"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$illnessChance" operation="set" value="16">
				<requirement name="ProgressionLevel" progression_name="perkIntrinsicImmunity" operation="Equals" value="2"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$illnessChance" operation="set" value="14">
				<requirement name="ProgressionLevel" progression_name="perkIntrinsicImmunity" operation="Equals" value="3"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$illnessChance" operation="set" value="12">
				<requirement name="ProgressionLevel" progression_name="perkIntrinsicImmunity" operation="Equals" value="4"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$illnessChance" operation="set" value="10">
				<requirement name="ProgressionLevel" progression_name="perkIntrinsicImmunity" operation="Equals" value="5"/> </triggered_effect>

			<!-- perkOlympicSwimmer update -->
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$DrowningTimerMax" operation="set" value="30">
				<requirement name="ProgressionLevel" progression_name="perkOlympicSwimmer" operation="Equals" value="0"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$DrowningTimerMax" operation="set" value="48">
				<requirement name="ProgressionLevel" progression_name="perkOlympicSwimmer" operation="Equals" value="1"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$DrowningTimerMax" operation="set" value="66">
				<requirement name="ProgressionLevel" progression_name="perkOlympicSwimmer" operation="Equals" value="2"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$DrowningTimerMax" operation="set" value="84">
				<requirement name="ProgressionLevel" progression_name="perkOlympicSwimmer" operation="Equals" value="3"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$DrowningTimerMax" operation="set" value="102">
				<requirement name="ProgressionLevel" progression_name="perkOlympicSwimmer" operation="Equals" value="4"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$DrowningTimerMax" operation="set" value="120">
				<requirement name="ProgressionLevel" progression_name="perkOlympicSwimmer" operation="Equals" value="5"/></triggered_effect>

			<!-- perkPhysician update -->
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="healthPerkIncrease" operation="set" value="2">
				<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="LT" value="3"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="healthPerkIncrease" operation="set" value="2.5">
				<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="Equals" value="3"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="healthPerkIncrease" operation="set" value="3">
				<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="Equals" value="4"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="healthPerkIncrease" operation="set" value="4">
				<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="Equals" value="5"/></triggered_effect>

			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicPerkIncrease" operation="set" value="1">
				<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="LT" value="3"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicPerkIncrease" operation="set" value="1.25">
				<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="Equals" value="3"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicPerkIncrease" operation="set" value="1.5">
				<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="Equals" value="4"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicPerkIncrease" operation="set" value="2">
				<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="Equals" value="5"/></triggered_effect>

			<!-- perkParkour update -->
			<!-- 1m = .01414 -->
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$parkourBonus" operation="set" value="0">
				<requirement name="ProgressionLevel" progression_name="perkParkour" operation="Equals" value="0"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$parkourBonus" operation="set" value=".0162">
				<requirement name="ProgressionLevel" progression_name="perkParkour" operation="Equals" value="1"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$parkourBonus" operation="set" value=".0304">
				<requirement name="ProgressionLevel" progression_name="perkParkour" operation="Equals" value="2"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$parkourBonus" operation="set" value=".0445">
				<requirement name="ProgressionLevel" progression_name="perkParkour" operation="Equals" value="3"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$parkourBonus" operation="set" value=".0587">
				<requirement name="ProgressionLevel" progression_name="perkParkour" operation="Equals" value="4"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$parkourBonus" operation="set" value=".0728">
				<requirement name="ProgressionLevel" progression_name="perkParkour" operation="Equals" value="5"/> </triggered_effect>

			<!-- perkDeadEye update
				1st shot	2nd shot	3rd shot
				T3	10	20	30
				T4	20	30	40
				T5	30	40	50 -->
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$KillStreakEffectBase" target="self" operation="set" value="0">
				<requirement name="ProgressionLevel" progression_name="perkDeadEye" operation="LTE" value="3"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$KillStreakEffectBase" target="self" operation="set" value=".1">
				<requirement name="ProgressionLevel" progression_name="perkDeadEye" operation="Equals" value="4"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$KillStreakEffectBase" target="self" operation="set" value=".2">
				<requirement name="ProgressionLevel" progression_name="perkDeadEye" operation="Equals" value="5"/>
			</triggered_effect>
		</effect_group>
	</buff>

	<buff name="buffCrouching" hidden="true">
		<stack_type value="ignore"/>
		<effect_group>
			<triggered_effect trigger="onSelfStand" action="RemoveBuff" target="self" buff="buffCrouching"/>
			<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" target="self" buff="buffCrouching"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" effect_name="Dark" intensity=".3" fade=".5"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" effect_name="Dark" intensity="0" fade=".5"/>
			<!-- <requirement name="CVarCompare" cvar="_crouching" operation="NE" value="0"/> -->
		</effect_group>
	</buff>

	<buff name="buffHarvest" tooltip_key="buffHarvestTooltip" hidden="true" remove_on_death="false">
		<!-- buff multiple times to increase effect. Enable God mode or leave game to disable. -->
		<damage_type value="stun"/>
		<stack_type value="effect"/>
		<duration value="0"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$buffHarvestBonus" operation="set" value=".5"/>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" target="self" cvar="$buffHarvestBonus" operation="add" value=".5"/>
			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="open_apache_artifact_chest"/>
			<passive_effect name="HarvestCount" operation="base_add" value="@$buffHarvestBonus"/>
			<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" target="self" buff="buffHarvest"/>
			<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" target="self" buff="buffHarvest"/>
		</effect_group>
	</buff>

	<buff name="buffNewbieCoat" name_key="buffNewbieCoatName" description_key="buffNewbieCoatDesc"	icon="ui_game_symbol_light_armor" remove_on_death="false">
		<!-- Be careful with that remove_on_death="false". You may have to restart screen effects, particles, etc. on game load. -->
		<stack_type value="ignore"/>
		<effect_group>
			<requirement name="PlayerLevel" target="self" operation="LT" value="2"/>
				<passive_effect name="HypothermalResist" operation="base_add" value="65"/>
				<passive_effect name="HyperthermalResist" operation="base_add" value="65"/>
		</effect_group>
		<effect_group>
			<requirement name="PlayerLevel" target="self" operation="Equals" value="2"/>
				<passive_effect name="HypothermalResist" operation="base_add" value="52"/>
				<passive_effect name="HyperthermalResist" operation="base_add" value="52"/>
		</effect_group>
		<effect_group>
			<requirement name="PlayerLevel" target="self" operation="Equals" value="3"/>
				<passive_effect name="HypothermalResist" operation="base_add" value="39"/>
				<passive_effect name="HyperthermalResist" operation="base_add" value="39"/>
		</effect_group>
		<effect_group>
			<requirement name="PlayerLevel" target="self" operation="Equals" value="4"/>
				<passive_effect name="HypothermalResist" operation="base_add" value="26"/>
				<passive_effect name="HyperthermalResist" operation="base_add" value="26"/>
		</effect_group>
		<effect_group>
			<requirement name="PlayerLevel" target="self" operation="Equals" value="5"/>
				<passive_effect name="HypothermalResist" operation="base_add" value="13"/>
				<passive_effect name="HyperthermalResist" operation="base_add" value="13"/>
		</effect_group>

		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffNewbieCoat">
				<requirement name="PlayerLevel" target="self" operation="GT" value="5"/>
			</triggered_effect>

			<!-- Taking care of food/water not being maxed with all the game start / initial chunk generation -->
			<passive_effect name="WaterChangeOT" operation="base_add" value="2,2" duration="0,8"/>
			<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="2,2" duration="0,8"/>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="99"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="99"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$foodAmount" operation="add" value="48"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$waterAmount" operation="add" value="48"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffProcessConsumables"/>
		</effect_group>
		<!-- <duration value="0"/>
		<update_rate value="180"/>
		 180 x 40 degrees = 7200s = 2 game days = 2 RT hours

		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="NewbieTempProtection"/>

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffNewbieCoat">
				<requirement name="CVarCompare" cvar="NewbieTempProtection" operation="LT" value="0"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="NewbieTempProtection" operation="set" value="40">
				<requirement name="CVarCompare" cvar="NewbieTempProtection" operation="Equals" value="0"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="NewbieTempProtection" operation="add" value="-1"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffNewbieCoat">
				<requirement name="CVarCompare" cvar="NewbieTempProtection" operation="LT" value="0"/>
			</triggered_effect>
			<passive_effect name="HypothermalResist" operation="base_add" value="@NewbieTempProtection"/>
			<passive_effect name="HyperthermalResist" operation="base_add" value="@NewbieTempProtection"/>
		</effect_group>

	<buff name="buffNewbieCoatReset"><duration value="0.5"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="NewbieTempProtection" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="NewbieTempProtection" operation="set" value="2"/>
		</effect_group>
	</buff>

		-->
	</buff>

<!-- ****************** Perk Buffs: Active buffs triggered by Perks ****************** -->

	<buff name="buffPerkStayDown" name_key="buffPerkStayDownName" description_key="buffPerkStayDownDesc" icon="ui_game_symbol_stunned">
		<stack_type value="replace"/>
		<duration value="1.8"/>

		<effect_group name="cleanup">
			<triggered_effect trigger="onSelfBuffFinish" action="ModifyCVar" cvar="$StayDownCombo" operation="set" value="0"/>
<!--
			<triggered_effect trigger="onSelfBuffStack" action="CVarLogValue" cvar="$StayDownCombo"/>
			<triggered_effect trigger="onSelfBuffStart" action="CVarLogValue" cvar="$StayDownCombo"/>
-->
		</effect_group>

		<effect_group name="perkT3">
			<requirement name="ProgressionLevel" progression_name="perkStayDown" operation="Equals" value="3"/>
			<requirement name="CVarCompare" cvar="$StayDownCombo" operation="GTE" value="4"/>
				<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffPerkStayDownBonus"/>
				<triggered_effect trigger="onSelfBuffStack" action="RemoveBuff" target="self" buff="buffPerkStayDown"/>
		</effect_group>
		<effect_group name="perkT4">
			<requirement name="ProgressionLevel" progression_name="perkStayDown" operation="Equals" value="4"/>
			<requirement name="CVarCompare" cvar="$StayDownCombo" operation="Equals" value="3"/>
				<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffPerkStayDownBonus"/>
				<triggered_effect trigger="onSelfBuffStack" action="RemoveBuff" target="self" buff="buffPerkStayDown"/>
		</effect_group>
		<effect_group name="perkT5">
			<requirement name="ProgressionLevel" progression_name="perkStayDown" operation="Equals" value="5"/>
			<requirement name="CVarCompare" cvar="$StayDownCombo" operation="Equals" value="2"/>
				<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffPerkStayDownBonus"/>
				<triggered_effect trigger="onSelfBuffStack" action="RemoveBuff" target="self" buff="buffPerkStayDown"/>
		</effect_group>
	</buff>

	<buff name="buffPerkStayDownBonus" name_key="buffPerkStayDownBonusName" description_key="buffPerkStayDownBonusDesc" icon="ui_game_symbol_stunned" icon_color="0,255,0" icon_blink="true">
		<stack_type value="ignore"/>
		<duration value="5"/>
		<effect_group>
			<passive_effect name="EntityDamage" operation="perc_add" value="1" tags="melee"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$StayDownCombo" operation="set" value="0"/>
		</effect_group>

		<effect_group name="perkT3">
			<requirement name="ProgressionLevel" progression_name="perkStayDown" operation="Equals" value="3"/>
			<requirement name="CVarCompare" cvar="$StayDownCombo" operation="GTE" value="5"/>

				<triggered_effect trigger="onSelfPrimaryActionEnd" action="RemoveBuff" target="self" buff="buffPerkStayDownBonus"/>
				<triggered_effect trigger="onSelfSecondaryActionEnd" action="RemoveBuff" target="self" buff="buffPerkStayDownBonus"/>

				<triggered_effect trigger="onSelfPrimaryActionEnd" action="LogMessage" message="buffStayDown: onSelfPrimaryActionEnd"/>
				<triggered_effect trigger="onSelfSecondaryActionEnd" action="LogMessage" message="buffStayDown: onSelfSecondaryActionEnd"/>
				<!-- remove hack when this works -->

		</effect_group>
		<effect_group name="perkT4">
			<requirement name="ProgressionLevel" progression_name="perkStayDown" operation="Equals" value="4"/>
			<requirement name="CVarCompare" cvar="$StayDownCombo" operation="Equals" value="4"/>
				<triggered_effect trigger="onSelfPrimaryActionEnd" action="RemoveBuff" target="self" buff="buffPerkStayDownBonus"/>
				<triggered_effect trigger="onSelfSecondaryActionEnd" action="RemoveBuff" target="self" buff="buffPerkStayDownBonus"/>
		</effect_group>
		<effect_group name="perkT5">
			<requirement name="ProgressionLevel" progression_name="perkStayDown" operation="Equals" value="5"/>
			<requirement name="CVarCompare" cvar="$StayDownCombo" operation="Equals" value="3"/>
				<triggered_effect trigger="onSelfPrimaryActionEnd" action="RemoveBuff" target="self" buff="buffPerkStayDownBonus"/>
				<triggered_effect trigger="onSelfSecondaryActionEnd" action="RemoveBuff" target="self" buff="buffPerkStayDownBonus"/>
		</effect_group>


		<!-- temp hack start; there is no trigger for "after the attack" -->
		<effect_group name="tempHack">
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkStayDownBonusHack1"/>
		</effect_group>
	</buff>

	<buff name="buffPerkStayDownBonusHack1" hidden="true">
		<stack_type value="replace"/>
		<duration value="4.8"/>
		<effect_group>
				<triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="self" buff="buffPerkStayDownBonusHack2"/>
				<triggered_effect trigger="onSelfAttackedOther" action="RemoveBuff" target="self" buff="buffPerkStayDownBonusHack1"/>
		</effect_group>
	</buff>
	<buff name="buffPerkStayDownBonusHack2" hidden="true">
		<stack_type value="replace"/>
		<duration value="0.2"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffFinish" action="RemoveBuff" target="self" buff="buffPerkStayDownBonus"/>
		</effect_group>
	</buff>
	<!-- temp hack end -->



	<buff name="buffPerkGunslinger" name_key="buffPerkGunslingerName" description_key="buffPerkGunslingerDesc" icon="ui_game_symbol_gunslinger">
		<stack_type value="replace"/>
		<duration value="1.8"/>

		<effect_group name="cleanup">
			<triggered_effect trigger="onSelfBuffFinish" action="ModifyCVar" cvar="$GunslingerCombo" operation="set" value="0"/>
		</effect_group>

		<effect_group name="perkT3">
			<requirement name="ProgressionLevel" progression_name="perkGunslinger" operation="Equals" value="3"/>
			<requirement name="CVarCompare" cvar="$GunslingerCombo" operation="GTE" value="4"/>
				<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffPerkGunslingerBonus"/>
				<triggered_effect trigger="onSelfBuffStack" action="RemoveBuff" target="self" buff="buffPerkGunslinger"/>
		</effect_group>
		<effect_group name="perkT4">
			<requirement name="ProgressionLevel" progression_name="perkGunslinger" operation="Equals" value="4"/>
			<requirement name="CVarCompare" cvar="$GunslingerCombo" operation="Equals" value="3"/>
				<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffPerkGunslingerBonus"/>
				<triggered_effect trigger="onSelfBuffStack" action="RemoveBuff" target="self" buff="buffPerkGunslinger"/>
		</effect_group>
		<effect_group name="perkT5">
			<requirement name="ProgressionLevel" progression_name="perkGunslinger" operation="Equals" value="5"/>
			<requirement name="CVarCompare" cvar="$GunslingerCombo" operation="Equals" value="2"/>
				<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffPerkGunslingerBonus"/>
				<triggered_effect trigger="onSelfBuffStack" action="RemoveBuff" target="self" buff="buffPerkGunslinger"/>
		</effect_group>
	</buff>

	<buff name="buffPerkGunslingerBonus" name_key="buffPerkGunslingerBonusName" description_key="buffPerkGunslingerBonusDesc" icon="ui_game_symbol_gunslinger" icon_color="0,255,0" icon_blink="true">
		<stack_type value="ignore"/>
		<duration value="5"/>
		<effect_group>
			<passive_effect name="EntityDamage" operation="perc_add" value="1" tags="pistol,revolver"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$GunslingerCombo" operation="set" value="0"/>
			<triggered_effect trigger="onSelfSecondaryActionEnd" action="RemoveBuff" target="self" buff="buffPerkGunslingerBonus"/>
		</effect_group>

		<effect_group name="perkT3">
			<requirement name="ProgressionLevel" progression_name="perkGunslinger" operation="Equals" value="3"/>
			<requirement name="CVarCompare" cvar="$GunslingerCombo" operation="GTE" value="5"/>

				<triggered_effect trigger="onSelfPrimaryActionEnd" action="LogMessage" message="buffPerkGunslinger: onSelfPrimaryActionEnd"/>
				<triggered_effect trigger="onSelfSecondaryActionEnd" action="LogMessage" message="buffPerkGunslinger: onSelfSecondaryActionEnd"/>
				<!-- remove hack when this works -->

		</effect_group>
		<effect_group name="perkT4">
			<requirement name="ProgressionLevel" progression_name="perkGunslinger" operation="Equals" value="4"/>
			<requirement name="CVarCompare" cvar="$GunslingerCombo" operation="Equals" value="4"/>
				<triggered_effect trigger="onSelfPrimaryActionEnd" action="RemoveBuff" target="self" buff="buffPerkGunslingerBonus"/>
				<triggered_effect trigger="onSelfSecondaryActionEnd" action="RemoveBuff" target="self" buff="buffPerkGunslingerBonus"/>
		</effect_group>
		<effect_group name="perkT5">
			<requirement name="ProgressionLevel" progression_name="perkGunslinger" operation="Equals" value="5"/>
			<requirement name="CVarCompare" cvar="$GunslingerCombo" operation="Equals" value="3"/>
				<triggered_effect trigger="onSelfPrimaryActionEnd" action="RemoveBuff" target="self" buff="buffPerkGunslingerBonus"/>
				<triggered_effect trigger="onSelfSecondaryActionEnd" action="RemoveBuff" target="self" buff="buffPerkGunslingerBonus"/>
		</effect_group>


		<!-- temp hack start; there is no trigger for "after the attack" -->
		<effect_group name="tempHack">
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkGunslingerBonusHack1"/>
		</effect_group>
</buff>

	<buff name="buffPerkGunslingerBonusHack1" hidden="true">
		<stack_type value="replace"/>
		<duration value="4.8"/>
		<effect_group>
				<triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="self" buff="buffPerkGunslingerBonusHack2"/>
				<triggered_effect trigger="onSelfAttackedOther" action="RemoveBuff" target="self" buff="buffPerkGunslingerBonusHack1"/>
		</effect_group>
	</buff>
	<buff name="buffPerkGunslingerBonusHack2" hidden="true">
		<stack_type value="replace"/>
		<duration value="0.2"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffFinish" action="RemoveBuff" target="self" buff="buffPerkGunslingerBonus"/>
		</effect_group>
	</buff>
	<!-- temp hack end -->


	<buff name="buffPerkPain" name_key="buffPerkPainName" description_key="buffPerkPainDesc" icon="ui_game_symbol_boxer">
		<effect_group>
			<passive_effect name="EntityDamage" operation="perc_add" value="0.15"/>
			<passive_effect name="StaminaChangeOT" operation="base_add" value="5"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffPerkPain">
				<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GT" value="@PainTolerance"/>
			</triggered_effect>
		</effect_group>
	</buff>

	<buff name="buffPerkKillStreak" name_key="buffPerkKillStreakName" description_key="buffPerkKillStreakDesc" tooltip_key="buffPerkKillStreakTooltip" icon="ui_game_symbol_map_cursor" icon_color="0,255,0" icon_blink="true">
		<stack_type value="replace"/>
		<duration value="15"/>

		<effect_group>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$KillStreakEffectCounter" target="self" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$KillStreakEffect1" target="self" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$KillStreakEffect1" target="self" operation="set" value="0"/>
<!---->
			<triggered_effect trigger="onSelfAttackedOther" action="RemoveBuff" target="self" buff="buffPerkKillStreak">
				<requirement name="CVarCompare" target="other" cvar="KillStreakTargetCounter" operation="GT" value="1"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$KillStreakEffectCounter" operation="add" value=".1">
				<requirement name="CVarCompare" target="self" cvar="$KillStreakEffectCounter" operation="LT" value=".3"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$KillStreakEffectCounter" operation="add" value=".1">
				<requirement name="CVarCompare" target="self" cvar="$KillStreakEffectCounter" operation="LT" value=".3"/>
			</triggered_effect>

		<!-- 1st shot	2nd shot	3rd shot
			T3	10	20	30
			T4	20	30	40
			T5	30	40	50-->

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$KillStreakEffect1" target="self" operation="set" value="@$KillStreakEffectCounter"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$KillStreakEffect1" target="self" operation="add" value="@$KillStreakEffectBase"/>

			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$KillStreakEffect1" target="self" operation="set" value="@$KillStreakEffectCounter"/>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$KillStreakEffect1" target="self" operation="add" value="@$KillStreakEffectBase"/>

			<passive_effect name="EntityDamage" operation="perc_add" value="@$KillStreakEffect1" tags="ranged"/>
		<!--
			<triggered_effect trigger="onSelfBuffStart" action="LogMessage" message="     One shot buff started"/>
			<triggered_effect trigger="onSelfBuffStack" action="LogMessage" message="     One shot buff STACKED"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="$KillStreakEffectCounter"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="$KillStreakEffect1"/>
		-->
		</effect_group>
	</buff>

	<!-- temp hack here and in progression because  onSelfXXXaryActionEnd  does nothing.  I want to remove buffPerkKillStreak if at the end of the attack  KillStreakTargetCounter  GT 1 -->
	<buff name="buffPerkKillStreakCleanup" hidden="true">
		<stack_type value="replace"/>
		<duration value=".2"/>

		<effect_group>
			<triggered_effect trigger="onSelfBuffFinish" action="RemoveBuff" target="self" buff="buffPerkKillStreak"/>
		</effect_group>
	</buff>

	<buff name="buffPerkCharismaticNature" name_key="perkCharismaticNatureName" description_key="buffPerkCharismaticNatureDesc" icon="ui_game_symbol_talk" icon_color="0,255,0" icon_blink="false" hidden="false">
	<!--
	<buff name="buffPerkCharismaticNature" tooltip_key="buffPerkCharismaticNatureTooltip" icon="ui_game_symbol_talk">
	-->
		<stack_type value="replace"/>
		<duration value="5"/>

		<effect_group>
			<requirement name="CVarCompare" cvar="CharismaticNature" operation="GTE" value="1"/>
			<requirement name="CVarCompare" cvar="CharismaticNature" operation="LTE" value="3"/>
				<passive_effect name="AttributeLevel" tags="attFortitude" operation="base_add" value="1" />
				<passive_effect name="AttributeLevel" tags="attAgility" operation="base_add" value="1" />
		</effect_group>
		<effect_group>
			<requirement name="CVarCompare" cvar="CharismaticNature" operation="GTE" value="2"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".2"/>
				<passive_effect name="BlockDamage" operation="perc_add" value=".2" tags="melee"/>
		</effect_group>
		<effect_group>
			<requirement name="CVarCompare" cvar="CharismaticNature" operation="GTE" value="4"/>
				<passive_effect name="AttributeLevel" tags="attFortitude" operation="base_add" value="2" />
				<passive_effect name="AttributeLevel" tags="attAgility" operation="base_add" value="2" />
		</effect_group>

		<effect_group>
			<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="CharismaticNature" operation="set" value="0"/>
		</effect_group>
	</buff>

	<buff name="buffPerkParkour" name_key="buffPerkParkourName" description_key="buffPerkParkourDesc" icon="ui_game_symbol_parkour">
		<stack_type value="replace"/>
		<duration value="5"/>
		<effect_group>
			<passive_effect name="RunSpeed" operation="perc_add" value="3"/>
			<triggered_effect trigger="onSelfFallImpact" action="RemoveBuff" buff="buffPerkParkour"/>
		</effect_group>
		<!-- to activate <triggered_effect trigger="onSelfJump" action="AddBuff" target="self" buff="buffPerkParkour"/> -->
	</buff>


<!-- ****************** Injury Debuffs: Bleeding, Broken Limbs, Stunned, etc. ****************** -->
	<buff name="buffInjuryBleeding" name_key="buffInjuryBleedingName" description_key="buffInjuryBleedingDesc" tooltip_key="buffInjuryBleedingTooltip" icon="ui_game_symbol_critical" icon_color="255,0,0" icon_blink="true">
		<damage_type value="bloodloss"/>
		<stack_type value="replace"/>
		<duration value="20"/>

<!--
		<effect_group>
			<requirement name="EntityTagCompare" tags="player" invert="true"/>
			<requirement name="EntityTagCompare" tags="zombie" invert="true"/>
			<requirement name="EntityTagCompare" tags="animal" invert="true"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffInjuryBleeding"/>

			<triggered_effect trigger="onSelfBuffStart" action="LogMessage" message="not player">
				<requirement name="EntityTagCompare" tags="player" invert="true"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="LogMessage" message="not Zombie">
				<requirement name="EntityTagCompare" tags="zombie" invert="true"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="LogMessage" message="not Animal">
				<requirement name="EntityTagCompare" tags="animal" invert="true"/>
			</triggered_effect>
		</effect_group>
-->

		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$bleedCounter" operation="set" value="1"/>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$bleedCounter" operation="add" value="1">
				<requirement name="CVarCompare" cvar="$bleedCounter" operation="LT" value="3"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$bleedAmount" operation="set" value="@$bleedCounter"/>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$bleedAmount" operation="set" value="@$bleedCounter"/>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$bleedAmount" operation="divide" value="2">
				<requirement name="CVarCompare" cvar="CharismaticNature" operation="GTE" value="3"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$bleedAmount" operation="divide" value="2">
				<requirement name="CVarCompare" cvar="CharismaticNature" operation="GTE" value="3"/>
			</triggered_effect>

			<passive_effect name="HealthMaxModifierOT" operation="base_subtract" value="@$bleedAmount"/>
			<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$bleedAmount"/>

			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$bleedCounter" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$bleedAmount" operation="set" value="0"/>

			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="buff_bleeding" play_in_head="true"/>
			<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="buff_bleeding" play_in_head="true"/>
			<triggered_effect trigger="onSelfLeaveGame" action="StopSound" sound="buff_bleeding" play_in_head="true"/>
			<triggered_effect trigger="onSelfEnteredGame" action="PlaySound" sound="buff_bleeding" play_in_head="true"/>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" effect_name="Blur" intensity=".6" fade="0.5"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" effect_name="Blur" intensity="0" fade="1"/>
			<triggered_effect trigger="onSelfDied" action="ModifyScreenEffect" effect_name="Infected" intensity="0" fade="0"/>
			<triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffInjuryBleeding"/>
<!--
			<triggered_effect trigger="onSelfBuffStart" action="CVarLogValue" cvar="$bleedCounter"/>
			<triggered_effect trigger="onSelfBuffStart" action="CVarLogValue" cvar="$bleedAmount"/>
			<triggered_effect trigger="onSelfBuffStack" action="CVarLogValue" cvar="$bleedCounter"/>
			<triggered_effect trigger="onSelfBuffStack" action="CVarLogValue" cvar="$bleedAmount"/>

			<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_electric_shock" local_offset="0,0.75,0"/>
			<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_electric_shock" />
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_electric_shock" />
-->
		</effect_group>
	</buff>

	<buff name="buffPlayerFallingDamage" name_key="buffInjuryBleedingName" description_key="buffInjuryBleedingDesc" icon="ui_game_symbol_critical" icon_color="255,0,0" hidden="true">
		<!-- The code does not DO fall damage. It writes the impact speed into the cvar and fires a trigger. -->
		<damage_type value="break"/>
		<stack_type value="ignore"/>
		<duration value=".1"/>

		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$impactSpeed" operation="set" value="@_fallSpeed"/>
		</effect_group>

		<effect_group>
			<requirements compare_type="or">
				<requirement name="HasBuff" buff="buffLegSprained"/>
				<requirement name="HasBuff" buff="buffLegBroken"/>
				<requirement name="HasBuff" buff="buffLegSplinted"/>
				<requirement name="HasBuff" buff="buffLegCast"/>
			</requirements>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$impactSpeed" operation="add" value=".02828"/> <!-- add 2m -->
		</effect_group>

		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$impactSpeed" operation="subtract" value="@$parkourBonus"/>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$impactSpeed" operation="subtract" value=".02121">
				<requirement name="HasBuff" buff="buffImpactBracing"/>
			</triggered_effect>

			<!--
			<triggered_effect trigger="onSelfBuffStart" action="LogMessage" message="- - - - - - - - -"/>
			<triggered_effect trigger="onSelfBuffStart" action="CVarLogValue" cvar="_fallSpeed"/>
			<triggered_effect trigger="onSelfBuffStart" action="CVarLogValue" cvar="$impactSpeed"/>
			-->
		</effect_group>

		<effect_group>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="GTE" value=".2197"/>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="LTE" value=".2315"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
			<requirement name="ProgressionLevel" progression_name="perkParkour" target="self" operation="LT" value="5"/>
			<requirement name="NotHasBuff" buff="buffDontBreakMyLeg"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffLegBroken"/>
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="breakleg"/>
		</effect_group>
		<effect_group>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="GT" value=".2315"/>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="LTE" value=".2472"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="50"/>
			<requirement name="ProgressionLevel" progression_name="perkParkour" target="self" operation="LT" value="5"/>
			<requirement name="NotHasBuff" buff="buffDontBreakMyLeg"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffLegBroken"/>
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="breakleg"/>
		</effect_group>
		<effect_group>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="GT" value=".2472"/>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="LTE" value=".259"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="75"/>
			<requirement name="ProgressionLevel" progression_name="perkParkour" target="self" operation="LT" value="5"/>
			<requirement name="NotHasBuff" buff="buffDontBreakMyLeg"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffLegBroken"/>
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="breakleg"/>
		</effect_group>
		<effect_group>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="GT" value=".259"/>
			<requirement name="ProgressionLevel" progression_name="perkParkour" target="self" operation="LT" value="5"/>
			<requirement name="NotHasBuff" buff="buffDontBreakMyLeg"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffLegBroken"/>
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="breakleg"/>
		</effect_group>

		<effect_group>
			<requirement name="NotHasBuff" buff="buffLegBroken"/>
			<requirement name="NotHasBuff" buff="buffLegSplinted"/>
			<requirement name="NotHasBuff" buff="buffLegCast"/>
			<requirement name="NotHasBuff" buff="buffDontBreakMyLeg"/>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="GTE" value=".204"/>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="LTE" value=".2197"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
			<requirement name="ProgressionLevel" progression_name="perkParkour" target="self" operation="LT" value="4"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffLegSprained"/>
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="player1painlg1">
					<requirement name="IsMale"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="player2painlg1">
					<requirement name="IsMale" invert="true"/>
				</triggered_effect>
		</effect_group>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffLegBroken"/>
			<requirement name="NotHasBuff" buff="buffLegSplinted"/>
			<requirement name="NotHasBuff" buff="buffLegCast"/>
			<requirement name="NotHasBuff" buff="buffDontBreakMyLeg"/>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="GT" value=".2197"/>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="LTE" value=".2315"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="50"/>
			<requirement name="ProgressionLevel" progression_name="perkParkour" target="self" operation="LT" value="4"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffLegSprained"/>
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="player1painlg1">
					<requirement name="IsMale"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="player2painlg1">
					<requirement name="IsMale" invert="true"/>
				</triggered_effect>
		</effect_group>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffLegBroken"/>
			<requirement name="NotHasBuff" buff="buffLegSplinted"/>
			<requirement name="NotHasBuff" buff="buffLegCast"/>
			<requirement name="NotHasBuff" buff="buffDontBreakMyLeg"/>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="GT" value=".2315"/>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="LTE" value=".2472"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="75"/>
			<requirement name="ProgressionLevel" progression_name="perkParkour" target="self" operation="LT" value="4"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffLegSprained"/>
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="player1painlg1">
					<requirement name="IsMale"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="player2painlg1">
					<requirement name="IsMale" invert="true"/>
				</triggered_effect>
		</effect_group>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffLegBroken"/>
			<requirement name="NotHasBuff" buff="buffLegSplinted"/>
			<requirement name="NotHasBuff" buff="buffLegCast"/>
			<requirement name="NotHasBuff" buff="buffDontBreakMyLeg"/>
			<requirement name="CVarCompare" cvar="$impactSpeed" operation="GT" value=".2472"/>
			<requirement name="ProgressionLevel" progression_name="perkParkour" target="self" operation="LT" value="4"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffLegSprained"/>
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="player1painlg1">
					<requirement name="IsMale"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="player2painlg1">
					<requirement name="IsMale" invert="true"/>
				</triggered_effect>
		</effect_group>

		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$impactSpeed" operation="subtract" value=".189"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$impactSpeed" operation="multiply" value="300"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="@$impactSpeed"/>
		</effect_group>

		<!-- fall height jumping falling fall damage falldamage

		6m safe
		7m (and every 1m above) +25% chance of sprained leg
		8m (and every 1m above) +20% chance of broken leg

		_Having_ anything like a sprained/splinted/broken leg lowers all those numbers by 2m
		Parkour perk increases them.

		6m: .1883
		7m: .204
		8   .2197
		9   .2315
		10   .2472
		11  .259

		.01414/m -->
	</buff>

	<buff name="buffLegSprained" name_key="buffLegSprainedName" description_key="buffLegSprainedDesc" tooltip_key="buffLegSprainedTooltip" icon="ui_game_symbol_brokenbone" icon_color="255,128,0">
		<damage_type value="sprain"/>
		<stack_type value="replace"/>
		<duration value="300"/>
		<requirement name="NotHasBuff" buff="buffLegBroken"/>
			<requirement name="ProgressionLevel" progression_name="perkParkour" target="self" operation="LT" value="4"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="1" tags="attAgility"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="RunSpeed" operation="perc_subtract" value="0.15, 0" duration="0,300" />
			<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.15, 0" duration="0,300" />
			<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.15, 0" duration="0,300" />
			<passive_effect name="JumpStrength" operation="perc_subtract" value="0.04, 0" duration="0,300" />

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffLegSplinted"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffLegCast"/>
		</effect_group>
	</buff>

	<buff name="buffLegBroken" name_key="buffLegBrokenName" description_key="buffLegBrokenDesc" tooltip_key="buffLegBrokenTooltip" icon="ui_game_symbol_brokenbone" icon_color="255,0,0">
		<!-- Note: sprinting with a broken leg could randomly rangdoll the player -->
		<damage_type value="break"/>
		<stack_type value="replace"/>
		<duration value="3600"/>
		<update_rate value="5"/>

		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="2,0" duration="0,3600" tags="attFortitude,attAgility"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="RunSpeed" operation="perc_subtract" value="0.5, 0" duration="0,3600" />
			<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.5, 0" duration="0,3600" />
			<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.5, 0" duration="0,3600" />
			<passive_effect name="JumpStrength" operation="perc_subtract" value="0.12, 0" duration="0,3600" />

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffLegSplinted"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffLegCast"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffLegSprained"/>
		</effect_group>
	</buff>

	<buff name="buffLegSplinted" name_key="buffLegSplintedName" description_key="buffLegSplintedDesc" tooltip_key="buffLegSplintedTooltip" icon="ui_game_symbol_splint">
		<damage_type value="sprain"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="RunSpeed" operation="perc_subtract" value="0.15, 0" duration="0,2400" />
			<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.15, 0" duration="0,2400" />
			<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.15, 0" duration="0,2400" />
			<passive_effect name="JumpStrength" operation="perc_subtract" value="0.06, 0" duration="0,2400" />

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffLegBroken"/>
		</effect_group>
	</buff>

	<buff name="buffLegCast" name_key="buffLegCastName" description_key="buffLegCastDesc" icon="ui_game_symbol_splint">
		<damage_type value="sprain"/>
		<duration value="1200"/>
		<effect_group>
			<passive_effect name="RunSpeed" operation="perc_subtract" value="0.1, 0" duration="0,1200" />
			<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.1, 0" duration="0,1200" />
			<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.1, 0" duration="0,1200" />
			<passive_effect name="JumpStrength" operation="perc_subtract" value="0.09, 0" duration="0,1200" />

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffLegBroken"/>
		</effect_group>
	</buff>

	<buff name="buffArmSprained" name_key="buffArmSprainedName" description_key="buffArmSprainedDesc" tooltip_key="buffArmSprainedTooltip" icon="ui_game_symbol_brokenbone">
		<damage_type value="sprain"/>
		<stack_type value="replace"/>
		<duration value="300"/>
		<requirement name="NotHasBuff" buff="buffArmBroken"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="1" tags="attStrength,attPerception"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="AttacksPerMinute" operation="perc_subtract" value="0.2,0" duration="0,300"/>
			<passive_effect name="RoundsPerMinute" operation="perc_subtract" value="0.2,0" duration="0,300"/>
			<passive_effect name="StaminaLoss" operation="perc_add" value="0.2,0" duration="0,300" tags="melee,ranged"/>

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffArmSplinted"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffArmCast"/>
		</effect_group>
	</buff>

	<buff name="buffArmBroken" name_key="buffArmBrokenName" description_key="buffArmBrokenDesc" tooltip_key="buffArmBrokenTooltip" icon="ui_game_symbol_brokenbone">
		<damage_type value="break"/>
		<stack_type value="replace"/>
		<duration value="3600"/>
		<update_rate value="5"/>

		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="2,0" duration="0,3600" tags="attFortitude,attStrength,attPerception"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="AttacksPerMinute" operation="perc_subtract" value="0.7,0" duration="0,3600"/>
			<passive_effect name="RoundsPerMinute" operation="perc_subtract" value="0.7,0" duration="0,3600"/>
			<passive_effect name="StaminaLoss" operation="perc_add" value="0.8,0" duration="0,3600" tags="melee,ranged"/>

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffArmSplinted"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffArmCast"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffArmSprained"/>
		</effect_group>
	</buff>

	<buff name="buffArmSplinted" name_key="buffArmSplintedName" description_key="buffArmSplintedDesc" icon="ui_game_symbol_splintarm">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="AttacksPerMinute" operation="perc_subtract" value="0.2,0" duration="0,2400"/>
			<passive_effect name="RoundsPerMinute" operation="perc_subtract" value="0.2,0" duration="0,2400"/>
			<passive_effect name="StaminaLoss" operation="perc_add" value="0.2,0" duration="0,2400" tags="melee,ranged"/>

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffArmBroken"/>
		</effect_group>
	</buff>

	<buff name="buffArmCast" name_key="buffArmCastName" description_key="buffArmCastDesc" icon="ui_game_symbol_splintarm">
		<stack_type value="replace"/>
		<duration value="1200"/>

		<effect_group>
			<passive_effect name="AttacksPerMinute" operation="perc_subtract" value="0.1,0" duration="0,1200"/>
			<passive_effect name="RoundsPerMinute" operation="perc_subtract" value="0.1,0" duration="0,1200"/>
			<passive_effect name="StaminaLoss" operation="perc_add" value="0.1,0" duration="0,1200" tags="melee,ranged"/>

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffArmBroken"/>
		</effect_group>
	</buff>

	<buff name="buffInjuryStunned1" name_key="buffInjuryStunned1Name" description_key="buffInjuryStunned1NameDesc" tooltip_key="buffInjuryStunned1NameDescTooltip" icon="ui_game_symbol_stunned">
		<damage_type value="stun"/>
		<stack_type value="ignore"/>
		<duration value="4"/>

		<requirements compare_type="or">
			<requirement name="NotHasBuff" buff="buffDrugPainkillers"/>
			<requirement name="NotHasBuff" buff="buffInjuryStunned2"/>
			<requirement name="NotHasBuff" buff="buffInjuryStunned1Cooldown"/>
		</requirements>

		<effect_group>
			<passive_effect name="RunSpeed" operation="perc_subtract" value="0.8, 0" duration="0,4" />
			<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.8, 0" duration="0,4" />
			<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.8, 0" duration="0,4" />
			<passive_effect name="JumpStrength" operation="perc_subtract" value="0.8, 0" duration="0,4" />

			<passive_effect name="AttacksPerMinute" operation="perc_set" value="0.5, 1" duration="0,4" />

			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="0.5" fade="1" effect_name="Blur"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" fade="1" effect_name="Blur"/>

			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="buff_stunned" play_in_head="true"/>
			<triggered_effect trigger="onSelfEnteredGame" action="PlaySound" target="self" sound="buff_stunned" play_in_head="true"/>

			<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="buff_stunned" play_in_head="true"/>
			<triggered_effect trigger="onSelfLeaveGame" action="StopSound" target="self" sound="buff_stunned" play_in_head="true"/>

			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffInjuryStunned1Cooldown"/>
		</effect_group>
	</buff>

	<buff name="buffInjuryStunned2" name_key="buffInjuryStunned1Name" description_key="buffInjuryStunned1NameDesc" tooltip_key="buffInjuryStunned1NameDescTooltip" icon="ui_game_symbol_stunned">
		<damage_type value="stun"/>
		<stack_type value="ignore"/>
		<duration value="6"/>

		<requirements compare_type="or">
			<requirement name="NotHasBuff" buff="buffDrugPainkillers"/>
			<requirement name="NotHasBuff" buff="buffInjuryStunned1Cooldown"/>
		</requirements>

		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffInjuryStunned1"/>

			<passive_effect name="RunSpeed" operation="perc_subtract" value="0.8, 0" duration="0,4" />
			<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.8, 0" duration="0,4" />
			<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.8, 0" duration="0,4" />
			<passive_effect name="JumpStrength" operation="perc_subtract" value="0.8, 0" duration="0,4" />

			<passive_effect name="AttacksPerMinute" operation="perc_set" value="0.5, 1" duration="0,4" />

			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="0.5" fade="1" effect_name="Blur"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" fade="1" effect_name="Blur"/>

			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="buff_stunned" play_in_head="true"/>
			<triggered_effect trigger="onSelfEnteredGame" action="PlaySound" target="self" sound="buff_stunned" play_in_head="true"/>

			<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="buff_stunned" play_in_head="true"/>
			<triggered_effect trigger="onSelfLeaveGame" action="StopSound" target="self" sound="buff_stunned" play_in_head="true"/>

			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffInjuryStunned1Cooldown"/>

		</effect_group>
	</buff>

	<buff name="buffInjuryStunned1Cooldown" hidden="true"> <duration value="3"/> <stack_type value="ignore"/> </buff>


	<buff name="buffInjuryCrippled1" name_key="buffInjuryCrippled1Name" description_key="buffInjuryCrippled1Desc" tooltip_key="buffInjuryCrippled1Tooltip" icon="ui_game_symbol_stunned">
		<damage_type value="stun"/>
		<stack_type value="ignore"/>
		<duration value="0"/>
		<effect_group>
			<requirement name="EntityTagCompare" tags="zombie"/>
				<triggered_effect trigger="onSelfBuffStart" action="AnimatorSetInt" property="WalkType" value="5"/>
		</effect_group>
	</buff>

	<buff name="buffInjuryKnockdown1">
		<damage_type value="knockdown"/>
		<stack_type value="ignore"/>
		<duration value="4"/>
		<requirements compare_type="or">
			<requirement name="NotHasBuff" buff="buffInjuryKnockdown1Cooldown"/>
		</requirements>

		<effect_group>
			<passive_effect name="RunSpeed" operation="perc_set" value="0" />
			<passive_effect name="WalkSpeed" operation="perc_set" value="0" />
			<passive_effect name="CrouchSpeed" operation="perc_set" value="0" />
			<passive_effect name="JumpStrength" operation="perc_set" value="0" />

			<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="3.5"/>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffInjuryKnockdown1Cooldown"/>
		</effect_group>
	</buff>

	<buff name="buffInjuryKnockdown2">
		<damage_type value="knockdown"/>
		<stack_type value="ignore"/>
		<duration value="6"/>
		<requirements compare_type="or">
			<requirement name="NotHasBuff" buff="buffInjuryKnockdown1Cooldown"/>
		</requirements>

		<effect_group>
			<passive_effect name="RunSpeed" operation="perc_set" value="0" />
			<passive_effect name="WalkSpeed" operation="perc_set" value="0" />
			<passive_effect name="CrouchSpeed" operation="perc_set" value="0" />
			<passive_effect name="JumpStrength" operation="perc_set" value="0" />

			<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="5.5"/>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffInjuryKnockdown1Cooldown"/>
		</effect_group>
	</buff>

	<buff name="buffInjuryKnockdown1Cooldown" hidden="true"> <duration value="5"/> <stack_type value="ignore"/> </buff>

	<buff name="buffInjuryUnconscious" name_key="buffInjuryUnconsciousName" description_key="buffInjuryUnconsciousDesc" tooltip_key="buffInjuryUnconsciousTooltip" icon="ui_game_symbol_critical">
		<damage_type value="knockout"/>
		<stack_type value="replace"/>
		<duration value="3"/>
		<effect_group>
			<passive_effect name="RunSpeed" operation="perc_set" value="0" />
			<passive_effect name="WalkSpeed" operation="perc_set" value="0" />
			<passive_effect name="CrouchSpeed" operation="perc_set" value="0" />
			<passive_effect name="JumpStrength" operation="perc_set" value="0" />

			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="1" fade="1" effect_name="Blur"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" fade="1" effect_name="Blur"/>

			<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="5"/>
			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="buff_stunned" play_in_head="true"/>
			<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="buff_stunned" play_in_head="true"/>
			<triggered_effect trigger="onSelfLeaveGame" action="StopSound" target="self" sound="buff_stunned" play_in_head="true"/>
			<triggered_effect trigger="onSelfEnteredGame" action="PlaySound" target="self" sound="buff_stunned" play_in_head="true"/>
		</effect_group>
	</buff>

	<buff name="buffStayDownKO" hidden="true">
		<damage_type value="knockout"/>
		<stack_type value="ignore"/>
		<duration value="0.2"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="0.1"/>
		</effect_group>
	</buff>

	<buff name="buffInjuryConcussion" name_key="buffInjuryConcussionName" description_key="buffInjuryConcussionDesc" tooltip_key="buffInjuryConcussionTooltip" icon="ui_game_symbol_stunned">
		<damage_type value="stun"/>
		<stack_type value="replace"/>
		<duration value="3600"/>
		<update_rate value="2.5"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="2" tags="attPerception,attAgility"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<triggered_effect name="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffInjuryStunned1">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="@$illnessChance"/>
			</triggered_effect>
		</effect_group>
	</buff>



<!-- ****************** Elemental Debuffs: Hot, Cold, Burning, Freezing, Shock, etc. ****************** -->

	<buff name="buffElementHot" name_key="buffElementHotName" description_key="buffElementHotDesc" tooltip_key="buffElementHotTooltip" icon="ui_game_symbol_hot" icon_color="255,128,0">
		<damage_type value="heat"/>
		<stack_type value="ignore"/>
		<effect_group>
			<passive_effect name="AttributeLevel" tags="attPerception" operation="base_subtract" value="1" />
			<passive_effect name="AttributeLevel" tags="attStrength" operation="base_subtract" value="1" />
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="WaterLossPerStaminaPointGained" operation="perc_add" value="3"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="0.5" fade="2" effect_name="Hot"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" fade="1" effect_name="Hot"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddJournalEntry" journal="hotWeatherTip"/>
		</effect_group>
	</buff>

	<buff name="buffElementSweltering" name_key="buffElementSwelteringName" description_key="buffElementSwelteringDesc" tooltip_key="buffElementSwelteringTooltip" icon="ui_game_symbol_hot" icon_color="255,0,0" icon_blink="true">
		<damage_type value="heat"/>
		<stack_type value="ignore"/>
		<effect_group>
			<passive_effect name="AttributeLevel" tags="attPerception" operation="base_subtract" value="2" />
			<passive_effect name="AttributeLevel" tags="attStrength" operation="base_subtract" value="2" />
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="WaterLossPerStaminaPointGained" operation="perc_add" value="6"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="1" fade="2" effect_name="Hot"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" fade="1" effect_name="Hot"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddJournalEntry" journal="hotWeatherTip"/>
		</effect_group>
	</buff>

	<buff name="buffElementCold" name_key="buffElementColdName" description_key="buffElementColdDesc" tooltip_key="buffElementColdTooltip" icon="ui_game_symbol_cold" icon_color="255,128,0">
		<damage_type value="cold"/>
		<stack_type value="ignore"/>
		<effect_group>
			<passive_effect name="AttributeLevel" tags="attFortitude" operation="base_subtract" value="1" />
			<passive_effect name="AttributeLevel" tags="attStrength" operation="base_subtract" value="1" />
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="StaminaLossMaxMult" operation="perc_add" value="3"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="0.5" fade="2" effect_name="Cold"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" fade="1" effect_name="Cold"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddJournalEntry" journal="coldWeatherTip"/>
		</effect_group>
	</buff>

	<buff name="buffElementFreezing" name_key="buffElementFreezingName" description_key="buffElementFreezingDesc" tooltip_key="buffElementFreezingTooltip" icon="ui_game_symbol_cold" icon_color="255,0,0" icon_blink="true">
		<damage_type value="cold"/>
		<stack_type value="ignore"/>
		<effect_group>
			<passive_effect name="AttributeLevel" tags="attFortitude" operation="base_subtract" value="2" />
			<passive_effect name="AttributeLevel" tags="attStrength" operation="base_subtract" value="2" />
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="StaminaLossMaxMult" operation="perc_add" value="6"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="1" fade="2" effect_name="Cold"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" fade="1" effect_name="Cold"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddJournalEntry" journal="coldWeatherTip"/>
		</effect_group>
	</buff>

	<buff name="buffElementWet" name_key="buffElementWetName" description_key="buffElementWetDesc" tooltip_key="buffElementWetTooltip" icon="ui_game_symbol_wet">
		<damage_type value="cold"/>
		<stack_type value="ignore"/>
		<update_rate value="2.4"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$WetTempModifier" operation="set" value="2"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$WetTempModifierActive" operation="set" value="2"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$WetTempModifier" operation="set" value="@_wetness"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$WetTempModifier" operation="multiply" value="16"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$WetTempModifierActive" operation="set" value="@$WetTempModifier">
				<requirement name="CVarCompare" cvar="$WetTempModifier" operation="GT" value="@$WetTempModifierActive"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$WetTempModifierActive" operation="subtract" value=".2"/>

			<passive_effect name="HypothermalResist" operation="base_subtract" value="@$WetTempModifierActive"/>
			<passive_effect name="HyperthermalResist" operation="base_add" value="@$WetTempModifierActive"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffElementWet">
				<requirement name="CVarCompare" cvar="$WetTempModifierActive" operation="LT" value="1"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$WetTempModifierActive" operation="set" value="0"/>
		</effect_group>

		<effect_group>
			<requirements compare_type="or">
				<requirement name="HoldingItemHasTags" tags="heldTorch" />
				<requirement name="HasBuff" buff="buffCampfireAOE"/>
			</requirements>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$WetTempModifierActive" operation="subtract" value=".4"/>
		</effect_group>
	</buff>

	<buff name="buffShocked" description_key="buffShockedDesc" tooltip_key="buffShockedTooltip" icon="ui_game_symbol_electric_power" name_key="buffShockedName" icon_color="255,0,0">
		<damage_type value="electrical"/>
		<stack_type value="replace"/>
		<duration value="4.5"/>
		<effect_group>
			<passive_effect name="HealthChangeOT" operation="base_add" value="-6"/>
			<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9,0" duration="0,3.2"/>
			<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9,0" duration="0,3.2"/>
			<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9,0" duration="0,3.2"/>
			<passive_effect name="JumpStrength" operation="perc_subtract" value="0.9,0" duration="0,3.2"/>

			<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_electric_shock" local_offset="0,0.75,0"/>
			<triggered_effect trigger="onSelfEnteredGame" action="AttachParticleEffectToEntity" particle="p_electric_shock" local_offset="0,0.75,0"/>

			<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_electric_shock" />

			<triggered_effect trigger="onSelfBuffFinish" action="RemoveParticleEffectFromEntity" particle="p_electric_shock" />
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_electric_shock" />
			<triggered_effect trigger="onSelfLeaveGame" action="RemoveParticleEffectFromEntity" particle="p_electric_shock" />

			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="electric_fence_impact" />
			<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="electric_fence_impact" />
			<triggered_effect trigger="onSelfLeaveGame" action="StopSound" target="self" sound="electric_fence_impact" />
		</effect_group>
	</buff>

	<buff name="buffBurningElement" hidden="true">
		<damage_type value="heat"/>
		<stack_type value="replace"/>
		<duration value="10"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffIsOnFire"/>

			<passive_effect name="HealthChangeOT" operation="base_subtract" value="1.5"/>
			<passive_effect name="WaterChangeOT" operation="base_subtract" value="2"/>
			<passive_effect name="HypothermalResist" operation="base_add" value="30"/>
			<passive_effect name="HyperthermalResist" operation="base_add" value="-10"/>
		</effect_group>
	</buff>

	<buff name="buffBurningEnvironment" hidden="true"> <!-- remove when blocks proc buffs correctly -->
		<damage_type value="heat"/>
		<stack_type value="ignore"/>
		<duration value=".5"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffBurningEnvironmentHack"/>
		</effect_group>
	</buff>
	<buff name="buffBurningEnvironmentHack" hidden="true"> <!-- rename to "buffBurningEnvironment" when blocks proc buffs correctly -->
		<damage_type value="heat"/>
		<stack_type value="replace"/>
		<duration value="2"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$BurningEnvironmentCounter" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$BurningEnvironmentCounter" operation="add" value="1"/>
<!--
			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="$BurningEnvironmentCounter"/>
			<triggered_effect trigger="onSelfBuffStack" action="CVarLogValue" target="self" cvar="$BurningEnvironmentCounter"/>
-->

			<passive_effect name="WaterChangeOT" operation="base_subtract" value="1"/>
			<passive_effect name="HypothermalResist" operation="base_add" value="30"/>
			<passive_effect name="HyperthermalResist" operation="base_add" value="-10"/>
		</effect_group>

		<effect_group>
				<requirement name="CVarCompare" cvar="$BurningEnvironmentCounter" operation="GTE" value="5"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffIsOnFire"/>
			<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffIsOnFire"/>

				<passive_effect name="HealthChangeOT" operation="base_subtract" value="1"/>
		</effect_group>
	</buff>

	<buff name="buffBurningFlamingArrow" hidden="true">
		<damage_type value="heat"/>
		<stack_type value="replace"/>
		<duration value="14"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffIsOnFire"/>

			<passive_effect name="HealthChangeOT" operation="base_subtract" duration="0,14" value="4,15"/>
			<passive_effect name="WaterChangeOT" operation="base_subtract" value="1.5"/>
			<passive_effect name="HypothermalResist" operation="base_add" value="35"/>
			<passive_effect name="HyperthermalResist" operation="base_add" value="-15"/>
		</effect_group>
	</buff>

	<buff name="buffBurningMolotov" hidden="true">
		<damage_type value="heat"/>
		<stack_type value="replace"/>
		<duration value="16"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffIsOnFire"/>

			<passive_effect name="HealthChangeOT" operation="base_subtract" duration="0,8,16" value="4,10,20">
				<requirement name="NotHasBuff" buff="buffStatusCheck"/>
			</passive_effect>
			<passive_effect name="HealthChangeOT" operation="base_subtract" duration="0,8,16" value="1,5,13">
				<requirement name="HasBuff" buff="buffStatusCheck"/>
			</passive_effect>

			<passive_effect name="WaterChangeOT" operation="base_subtract" value="1.5"/>
			<passive_effect name="HypothermalResist" operation="base_add" value="35"/>
			<passive_effect name="HyperthermalResist" operation="base_add" value="-15"/>
		</effect_group>
	</buff>

	<buff name="buffBurning" hidden="true">
		<damage_type value="Heat"/>
		<stack_type value="replace"/>
		<duration value="60"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffIsOnFire"/>

			<passive_effect name="AttributeLevel" operation="base_subtract" value="1" tags="attStrength"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="HealthChangeOT" operation="base_subtract" value="0.5"/>
		</effect_group>
	</buff>

	<buff name="buffIsOnFire" name_key="buffIsOnFireName" description_key="buffIsOnFireDesc" tooltip_key="buffIsOnFireTooltip" icon="ui_game_symbol_fire" icon_color="255,0,0" icon_blink="true">
		<damage_type value="Heat"/>
		<stack_type value="ignore"/>
		<duration value="0"/>
		<update_rate value="1"/>
		<!-- bookkeeping for all burning buffs -->

		<effect_group> <!-- extinguish any fire if wet or if buffExtinguishFire is executed -->
			<requirements compare_type="or">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,1" operation="LTE" value="@_wetness"/>
				<requirement name="HasBuff" buff="buffExtinguishFire"/>
			</requirements>

			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffBurningFlamingArrow"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffBurningMolotov"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffBurningEnvironmentHack"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffBurningEnvironment"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffBurningElement"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffBurning"/>
		</effect_group>

		<effect_group> <!-- terminate only if all burn buffs are gone -->
			<requirements>
				<requirement name="NotHasBuff" buff="buffBurningFlamingArrow"/>
				<requirement name="NotHasBuff" buff="buffBurningMolotov"/>
				<requirement name="NotHasBuff" buff="buffBurningEnvironmentHack"/>
				<requirement name="NotHasBuff" buff="buffBurningEnvironment"/>
				<requirement name="NotHasBuff" buff="buffBurningElement"/>
				<requirement name="NotHasBuff" buff="buffBurning"/>
			</requirements>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffIsOnFire"/>
		</effect_group>

		<effect_group> <!-- run particles -->
			<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_onFire" local_offset="0,-.2,0" parent_transform="Hips"/>
			<triggered_effect trigger="onSelfEnteredGame" action="AttachParticleEffectToEntity" particle="p_onFire" local_offset="0,-.2,0" parent_transform="Hips"/>

			<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_onFire"/>
			<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_onFire"/>

			<triggered_effect trigger="onSelfBuffStart" action="AddJournalEntry" journal="onFireTip"/>
		</effect_group>
	</buff>

	<buff name="buffExtinguishFire" name_key="buffExtinguishFire" icon="ui_game_symbol_water" icon_color="0,255,0" hidden="true">
		<stack_type value="replace"/>
		<duration value="10"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="forge_fire_die"/>
			<triggered_effect trigger="onSelfBuffStack" action="PlaySound" sound="forge_fire_die"/>
		</effect_group>
	</buff>



	<buff name="buffBurningWeapon" name_key="buffBurningWeaponName" icon="ui_game_symbol_fire" icon_color="0,255,0" hidden="true">
		<stack_type value="replace"/>
		<duration value="10"/>

		<effect_group>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="30"/>
			<triggered_effect trigger="onSelfPrimaryActionRayHit" action="AddBuff" target="other" buff="buffBurningElement"/>
		</effect_group>

		<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_torch_wall" local_offset="0,0.3,0" parent_transform="GunJoint"/>
				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="p_onFire" local_offset="0,0.3,0" parent_transform="GunJoint"/>
				<passive_effect name="DegradationPerUse" operation="perc_add" value="1.5"/>

			<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_torch_wall" />
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_torch_wall"/>
			<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_torch_wall" />
		</effect_group>
<!--
			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="forge_fire_die">
				<requirement name="HoldingItemHasTags" tags="melee" />
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="other" buff="buffBurningWeapon"/>
				<requirement name="HoldingItemHasTags" tags="melee" invert="true"/>
			</triggered_effect>

			<requirement name="HoldingItemHasTags" tags="melee" />

			<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_onFire"/>
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_onFire"/>
			<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_onFire" />
-->
	</buff>




	<buff name="buffRadiation3" name_key="buffRadiation3Name" description_key="buffRadiation3Desc" tooltip_key="buffRadiation3Tooltip" icon="ui_game_symbol_radiation" icon_color="255,0,0" icon_blink="true">
		<damage_type value="radiation"/>
		<stack_type value="ignore"/>
		<duration value="5000"/>
		<update_rate value="1"/>
		<effect_group>
			<passive_effect name="HealthChangeOT" operation="base_subtract" duration="0,10" value="1,1"/>
			<passive_effect name="HealthChangeOT" operation="base_subtract" duration="10,50" value="1,30"/>
			<passive_effect name="HealthChangeOT" operation="base_subtract" duration="50,1000" value="40,1000"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="RadiationSignal" operation="add" value="1"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="RadiationSignal" operation="set" value="0">
				<requirement name="CVarCompare" cvar="RadiationSignal" operation="Equals" value="2"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="RadiationSignal" operation="set" value="0"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity="1" fade=".7" effect_name="Hot">
				<requirement name="CVarCompare" cvar="RadiationSignal" operation="Equals" value="1"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity="0" fade=".7" effect_name="Hot">
				<requirement name="CVarCompare" cvar="RadiationSignal" operation="Equals" value="0"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" fade="1" effect_name="Hot"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffRadiation3">
				<requirement name="CVarCompare" cvar="_biomeradiation" operation="LT" value="2.5"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" effect_name="Radiation" intensity=".6" fade="2"/>
			<triggered_effect trigger="onSelfDied" action="ModifyScreenEffect" effect_name="Radiation" intensity="0" fade="0"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" effect_name="Radiation" intensity="0" fade="2"/>
		</effect_group>
	</buff>


<!-- ****************** Illness Debuffs: Dysentery, Pneumonia, etc. ****************** -->


	<buff name="buffNearDeathTraumaTrigger" hidden="true">
		<stack_type value="replace"/>
		<duration value=".5"/>
		<effect_group>
			<requirement name="PlayerLevel" target="self" operation="GT" value="5"/>

			<!--
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathTraumaCounter" operation="set" value="1800">
				<requirement name="NotHasBuff" buff="buffNearDeathTrauma"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathTraumaCounter" operation="add" value="1800"/>
			-->
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathTraumaCounter" operation="set" value="3600"/>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathTraumaReduction" operation="set" value="@$NearDeathTraumaCounter"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathTraumaReduction" operation="divide" value="40"/>

			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffNearDeathProtection"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffNearDeathRegen"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffNearDeathTrauma"/>
		</effect_group>
	</buff>

	<buff name="buffNearDeathTrauma" name_key="buffNearDeathTraumaName" description_key="buffNearDeathTraumaDesc" tooltip_key="buffNearDeathTraumaTooltip" icon="ui_game_symbol_near_death_trauma" icon_color="255,128,0" remove_on_death="false">
		<damage_type value="disease"/>
		<stack_type value="replace"/>
		<duration value="1800"/>
		<update_rate value="45"/>
		<effect_group>
			<!-- Added: Custom read-only variable "_difficulty" -->
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffNearDeathTraumaCalculate"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="$NearDeathTraumaCounter" operation="subtract" value="@$NearDeathTraumaReduction"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffNearDeathTraumaCalculate"/>

			<passive_effect name="AttributeLevel" operation="base_subtract" value="@$NearDeathTraumaEffect"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" target="self" cvar="$NearDeathTraumaCounter" operation="set" value="0"/>
		</effect_group>
	</buff>

	<buff name="buffNearDeathTraumaCalculate" hidden="true">
		<damage_type value="disease"/>
		<stack_type value="ignore"/>
		<duration value=".5"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathTraumaEffect" operation="set" value="2"/>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathTraumaEffect" operation="set" value="1">
				<requirement name="PlayerLevel" operation="LTE" value="60"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathTraumaEffect" operation="set" value="1">
				<requirement name="CVarCompare" cvar="$NearDeathTraumaCounter" operation="LT" value="1800"/>
			</triggered_effect>

			<!--
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathTraumaEffect" operation="set" value="1">
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathTraumaEffect" operation="set" value="2">
				<requirement name="CVarCompare" cvar="$NearDeathTraumaCounter" operation="GT" value="1800"/>
				<requirement name="CVarCompare" cvar="$NearDeathTraumaCounter" operation="LTE" value="3600"/>
				<requirement name="PlayerLevel" operation="GTE" value="20"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathTraumaEffect" operation="set" value="3">
				<requirement name="CVarCompare" cvar="$NearDeathTraumaCounter" operation="GT" value="3600"/>
				<requirement name="CVarCompare" cvar="$NearDeathTraumaCounter" operation="LTE" value="5400"/>
				<requirement name="PlayerLevel" operation="GTE" value="40"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathTraumaEffect" operation="set" value="4">
				<requirement name="CVarCompare" cvar="$NearDeathTraumaCounter" operation="GT" value="5400"/>
				<requirement name="PlayerLevel" operation="GTE" value="60"/>
			</triggered_effect>
			-->
		</effect_group>
	</buff>

	<!-- In the early game it was deemed too easy get in a death loop so health/food/water regen to a degree. -->
	<buff name="buffNearDeathRegen" icon="ui_game_symbol_near_death_trauma" icon_color="0,255,0" hidden="true">
		<stack_type value="ignore"/>
		<duration value="100"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathRegen" operation="set" value=".95">
				<requirement name="PlayerLevel" target="self" operation="LT" value="4"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathRegen" operation="set" value=".9">
				<requirement name="PlayerLevel" target="self" operation="Equals" value="4"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathRegen" operation="set" value=".8">
				<requirement name="PlayerLevel" target="self" operation="Equals" value="5"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathRegen" operation="set" value=".7">
				<requirement name="PlayerLevel" target="self" operation="Equals" value="6"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathRegen" operation="set" value=".6">
				<requirement name="PlayerLevel" target="self" operation="Equals" value="7"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathRegen" operation="set" value=".5">
				<requirement name="PlayerLevel" target="self" operation="Equals" value="8"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathRegen" operation="set" value=".4">
				<requirement name="PlayerLevel" target="self" operation="Equals" value="9"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$NearDeathRegen" operation="set" value=".3">
				<requirement name="PlayerLevel" target="self" operation="GT" value="9"/></triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffNearDeathRegen">
				<requirement name="PlayerLevel" target="self" operation="GTE" value="10"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" target="self" cvar="$NearDeathRegen" operation="set" value="0"/>

			<triggered_effect trigger="onSelfBuffStart" action="RemoveAllNegativeBuffs" target="self">
				<requirement name="PlayerLevel" target="self" operation="LT" value="6"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffLegSprained">
				<requirement name="PlayerLevel" target="self" operation="LT" value="11"/></triggered_effect>

			<passive_effect name="HealthMaxModifierOT" operation="base_add" value="1">
				<requirement name="StatComparePercModMaxToMax" stat="Health" operation="LTE" value="@$NearDeathRegen"/>
			</passive_effect>
			<passive_effect name="HealthChangeOT" operation="base_add" value="1">
				<requirement name="StatComparePercCurrentToMax" stat="health" operation="LTE" value="@$NearDeathRegen"/>
			</passive_effect>
			<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="1">
				<requirement name="StatComparePercModMaxToMax" stat="Stamina" operation="LTE" value="@$NearDeathRegen"/>
			</passive_effect>
			<passive_effect name="WaterChangeOT" operation="base_add" value="1">
				<requirement name="StatComparePercCurrentToMax" stat="Water" operation="LTE" value="@$NearDeathRegen"/>
			</passive_effect>
		</effect_group>

		<effect_group>
			<requirement name="StatComparePercModMaxToMax" stat="Stamina" operation="GTE" value="@$NearDeathRegen"/>
			<requirement name="StatComparePercCurrentToMax" stat="Water" operation="GTE" value="@$NearDeathRegen"/>
			<requirement name="StatComparePercModMaxToMax" stat="Health" operation="GTE" value="@$NearDeathRegen"/>
			<requirement name="StatComparePercCurrentToMax" stat="health" operation="GTE" value="@$NearDeathRegen"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffNearDeathRegen"/>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffNearDeathRegen"/>
		</effect_group>
	</buff>

	<buff name="buffNearDeathProtection" icon="ui_game_symbol_near_death_trauma" icon_color="0,255,0" remove_on_death="false" hidden="true">
		<stack_type value="replace"/>
		<duration value="10"/>
		<effect_group>
			<triggered_effect trigger="onSelfRespawn" action="RemoveBuff" target="self" buff="buffNearDeathProtection"/>
			<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" target="self" buff="buffNearDeathProtection"/>
			<triggered_effect trigger="onSelfTeleported" action="RemoveBuff" target="self" buff="buffNearDeathProtection"/>

			<passive_effect name="BuffResistance" operation="base_add" value="2" tags="buffIllInfection0,buffIllInfection1,buffInjuryBleeding,buffDrowning1,buffDrowning2,buffArmorShredding,buffLegSprained,buffLegBroken,buffArmSprained"/>
			<passive_effect name="BuffResistance" operation="base_add" value="2" tags="buffArmBroken,buffInjuryStunned1,buffInjuryStunned2,buffInjuryCrippled1,buffInjuryKnockdown1,buffInjuryKnockdown1,buffInjuryUnconscious,buffStayDownKO"/>
			<passive_effect name="BuffResistance" operation="base_add" value="2" tags="buffInjuryConcussion,buffShocked,buffBurningElement,buffBurningEnvironment,buffBurningFlamingArrow,buffBurningMolotov,buffBurning"/>
		</effect_group>
	</buff>

	<buff name="buffIllnessIndicatorTrigger" hidden="true">
		<damage_type value="Disease"/>
		<stack_type value="ignore"/>
		<duration value=".9"/>
		<update_rate value=".5"/>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffIllDysentery0"/>
			<requirement name="NotHasBuff" buff="buffIllFoodPoisoning0"/>
			<requirement name="NotHasBuff" buff="buffIllPneumonia0"/>
			<requirement name="NotHasBuff" buff="buffIllInfection0"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllnessIndicator"/>
		</effect_group>

		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllnessIndicator"> <requirement name="HasBuff" buff="buffIllDysentery1"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllnessIndicator"> <requirement name="HasBuff" buff="buffIllDysentery2"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllnessIndicator"> <requirement name="HasBuff" buff="buffIllFoodPoisoning1"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllnessIndicator"> <requirement name="HasBuff" buff="buffIllFoodPoisoning2"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllnessIndicator"> <requirement name="HasBuff" buff="buffIllPneumonia1"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllnessIndicator"> <requirement name="HasBuff" buff="buffIllInfection1"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllnessIndicator"> <requirement name="HasBuff" buff="buffIllInfection2"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllnessIndicator"> <requirement name="HasBuff" buff="buffIllInfection3"/> </triggered_effect>
		</effect_group>

		<effect_group>
			<requirement name="NotHasBuff" buff="buffIllDysentery1"/>
			<requirement name="NotHasBuff" buff="buffIllDysentery2"/>
			<requirement name="NotHasBuff" buff="buffIllFoodPoisoning1"/>
			<requirement name="NotHasBuff" buff="buffIllFoodPoisoning2"/>
			<requirement name="NotHasBuff" buff="buffIllPneumonia1"/>
			<requirement name="NotHasBuff" buff="buffIllInfection1"/>
			<requirement name="NotHasBuff" buff="buffIllInfection2"/>
			<requirement name="NotHasBuff" buff="buffIllInfection3"/>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllnessIndicator"> <requirement name="HasBuff" buff="buffIllDysentery0"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllnessIndicator"> <requirement name="HasBuff" buff="buffIllFoodPoisoning0"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllnessIndicator"> <requirement name="HasBuff" buff="buffIllPneumonia0"/> </triggered_effect>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllnessIndicator"> <requirement name="HasBuff" buff="buffIllInfection0"/> </triggered_effect>
		</effect_group>
	</buff>

<!--
	<buff name="buffIllnessIndicatorTrigger" hidden="true">
		<damage_type value="Disease"/>
		<stack_type value="ignore"/>
		<duration value="3"/>
		<update_rate value="1.5"/>
		<effect_group>
			<requirements>
				<requirement name="NotHasBuff" buff="buffIllDysentery0"/>
				<requirement name="NotHasBuff" buff="buffIllFoodPoisoning0"/>
				<requirement name="NotHasBuff" buff="buffIllPneumonia0"/>
				<requirement name="NotHasBuff" buff="buffIllInfection0"/>
			</requirements>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllnessIndicator"/>
		</effect_group>
		<effect_group>
			<requirements compare_type="or">
				<requirement name="HasBuff" buff="buffIllDysentery1"/>
				<requirement name="HasBuff" buff="buffIllDysentery2"/>
				<requirement name="HasBuff" buff="buffIllFoodPoisoning1"/>
				<requirement name="HasBuff" buff="buffIllFoodPoisoning2"/>
				<requirement name="HasBuff" buff="buffIllPneumonia1"/>
				<requirement name="HasBuff" buff="buffIllInfection1"/>
				<requirement name="HasBuff" buff="buffIllInfection2"/>
				<requirement name="HasBuff" buff="buffIllInfection3"/>
			</requirements>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllnessIndicator"/>
		</effect_group>

		<effect_group>
				<requirement name="NotHasBuff" buff="buffIllDysentery1"/>
				<requirement name="NotHasBuff" buff="buffIllDysentery2"/>
				<requirement name="NotHasBuff" buff="buffIllFoodPoisoning1"/>
				<requirement name="NotHasBuff" buff="buffIllFoodPoisoning2"/>
				<requirement name="NotHasBuff" buff="buffIllPneumonia1"/>
				<requirement name="NotHasBuff" buff="buffIllInfection1"/>
				<requirement name="NotHasBuff" buff="buffIllInfection2"/>
				<requirement name="NotHasBuff" buff="buffIllInfection3"/>
			<requirements compare_type="or">
				<requirement name="HasBuff" buff="buffIllDysentery0"/>
				<requirement name="HasBuff" buff="buffIllFoodPoisoning0"/>
				<requirement name="HasBuff" buff="buffIllPneumonia0"/>
				<requirement name="HasBuff" buff="buffIllInfection0"/>
			</requirements>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllnessIndicator"/>
		</effect_group>
	</buff>
-->

	<buff name="buffIllnessIndicator" name_key="buffIllnessIndicatorName" description_key="buffIllnessIndicatorDesc" tooltip_key="buffIllnessIndicatorTooltip" icon="ui_game_symbol_death" icon_color="255,128,0" remove_on_death="false">
		<damage_type value="Disease"/>
		<stack_type value="ignore"/>
		<duration value="0"/>
		<update_rate value="2.5"/>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffIllDysentery0"/>
			<requirement name="NotHasBuff" buff="buffIllFoodPoisoning0"/>
			<requirement name="NotHasBuff" buff="buffIllPneumonia0"/>
			<requirement name="NotHasBuff" buff="buffIllInfection0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllnessIndicator"/>
		</effect_group>
	</buff>

	<buff name="buffIllDysentery0" hidden="true">
		<damage_type value="Disease"/>
		<stack_type value="ignore"/>
		<duration value="90"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>

			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllDysentery1">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="@$illnessChance"/>
			</triggered_effect>
		</effect_group>
	</buff>

	<buff name="buffIllDysentery1" name_key="buffIllDysentery1Name" description_key="buffIllDysentery1Desc" tooltip_key="buffIllDysentery1Tooltip" icon="ui_game_symbol_dysentery" icon_color="255,128,0">
		<damage_type value="Disease"/>
		<stack_type value="ignore"/>
		<duration value="300"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="1" tags="attFortitude,attAgility" />
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="StaminaChangeOT" operation="base_subtract" value="2" />
			<passive_effect name="StaminaMaxModifierOT" operation="base_subtract" value="0.1" />
			<passive_effect name="WaterChangeOT" operation="base_subtract" value=".1" />

			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllDysentery2">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="@$illnessChance"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
		</effect_group>
	</buff>

	<buff name="buffIllDysentery2" name_key="buffIllDysentery2Name" description_key="buffIllDysentery2Desc" tooltip_key="buffIllDysentery2Tooltip" icon="ui_game_symbol_dysentery" icon_color="255,0,0" icon_blink="true">
		<damage_type value="Disease"/>
		<stack_type value="replace"/>
		<duration value="300"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="3" tags="attFortitude,attAgility" />
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="StaminaChangeOT" operation="base_subtract" value="4" />
			<passive_effect name="StaminaMaxModifierOT" operation="base_subtract" value=".2" />
			<passive_effect name="WaterChangeOT" operation="base_subtract" value=".3" />
			<passive_effect name="HealthMaxModifierOT" operation="base_subtract" value="0.2" />

			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllDysentery2">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="@$illnessChance"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
		</effect_group>
	</buff>

	<buff name="buffIllFoodPoisoning0" hidden="true">
		<damage_type value="Disease"/>
		<stack_type value="ignore"/>
		<duration value="90"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllFoodPoisoning1">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="@$illnessChance"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
		</effect_group>
	</buff>

	<buff name="buffIllFoodPoisoning1" name_key="buffIllFoodPoisoning1Name" description_key="buffIllFoodPoisoning1Desc" tooltip_key="buffIllFoodPoisoning1Tooltip" icon="ui_game_symbol_food_poisoning" icon_color="255,128,0">
		<damage_type value="Disease"/>
		<stack_type value="ignore"/>
		<duration value="300"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="2" tags="attFortitude,attStrength" />
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="StaminaChangeOT" operation="base_subtract" value="1.5" />
			<passive_effect name="HealthMaxModifierOT" operation="base_subtract" value="0.1" />
			<passive_effect name="StaminaMaxModifierOT" operation="base_subtract" value="0.1" />

			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllFoodPoisoning2">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="@$illnessChance"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
		</effect_group>
	</buff>

	<buff name="buffIllFoodPoisoning2" name_key="buffIllFoodPoisoning2Name" description_key="buffIllFoodPoisoning2Desc" tooltip_key="buffIllFoodPoisoning2Tooltip" icon="ui_game_symbol_food_poisoning" icon_color="255,0,0" icon_blink="true">
		<damage_type value="Disease"/>
		<stack_type value="ignore"/>
		<duration value="300"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="3" tags="attFortitude,attStrength" />
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="StaminaChangeOT" operation="base_subtract" value="2" />
			<passive_effect name="HealthMaxModifierOT" operation="base_subtract" value=".2" />
			<passive_effect name="StaminaMaxModifierOT" operation="base_subtract" value=".2" />

			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllFoodPoisoning2">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="@$illnessChance"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
		</effect_group>
	</buff>


	<buff name="buffIllPneumonia0" hidden="true">
		<damage_type value="Disease"/>
		<stack_type value="ignore"/>
		<duration value="90"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllPneumonia1">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="1,200" operation="LTE" value="@$illnessChance"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
		</effect_group>
	</buff>

	<buff name="buffIllPneumonia1" name_key="buffIllPneumonia1Name" description_key="buffIllPneumonia1Desc" tooltip_key="buffIllPneumonia1Tooltip" icon="ui_game_symbol_" icon_color="255,0,0" icon_blink="true">
		<damage_type value="Disease"/>
		<stack_type value="ignore"/>
		<duration value="300"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="2" tags="attFortitude,attStrength" />
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="StaminaChangeOT" operation="base_subtract" value="3" />

			<passive_effect name="HealthMaxModifierOT" operation="base_subtract" value=".05" />
			<passive_effect name="HealthChangeOT" operation="base_subtract" value=".01" />
			<passive_effect name="StaminaMaxModifierOT" operation="base_subtract" value=".1" />

			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllPneumonia1">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="@$illnessChance"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
		</effect_group>
	</buff>


	<buff name="buffIllInfection0" hidden="true">
		<damage_type value="Infection"/>
		<stack_type value="ignore"/>
		<duration value="90"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllInfection1">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="1,200" operation="LTE" value="@$illnessChance"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
		</effect_group>
	</buff>

	<buff name="buffIllInfection1" name_key="buffIllInfection1Name" description_key="buffIllInfection1Desc" tooltip_key="buffIllInfection1Tooltip" icon="ui_game_symbol_infection">
		<damage_type value="Infection"/>
		<stack_type value="ignore"/>
		<duration value="300"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="2" tags="attPerception,attAgility"/>
			<passive_effect name="AttributeLevel" operation="base_add" value="1" tags="attStrength,attFortitude"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="StaminaChangeOT" operation="base_subtract" value="1.5" />
			<passive_effect name="HealthChangeOT" operation="base_subtract" value="0.5" />
			<passive_effect name="HealthLoss" operation="perc_add" value="0.2"/>
			<passive_effect name="StaminaLoss" operation="perc_add" value="0.5"/>

			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllInfection2">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="1,50" operation="LTE" value="@$illnessChance"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
		</effect_group>
	</buff>

	<buff name="buffIllInfection2" name_key="buffIllInfection2Name" description_key="buffIllInfection2Desc" icon="ui_game_symbol_infection" icon_color="255,128,0">
		<damage_type value="Infection"/>
		<stack_type value="ignore"/>
		<duration value="300"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="5" tags="attPerception,attAgility"/>
			<passive_effect name="AttributeLevel" operation="base_add" value="2" tags="attStrength,attFortitude"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="StaminaChangeOT" operation="base_subtract" value="3"/>
			<passive_effect name="HealthChangeOT" operation="base_set" value="0"/>
			<passive_effect name="HealthLoss" operation="perc_add" value="0.3"/>
			<passive_effect name="StaminaLoss" operation="perc_add" value="0.7"/>

			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllInfection3">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="1,30" operation="LTE" value="@$illnessChance"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
		</effect_group>
	</buff>

	<buff name="buffIllInfection3" name_key="buffIllInfection3Name" description_key="buffIllInfection3Desc" icon="ui_game_symbol_infection" icon_color="255,0,0" icon_blink="true">
		<damage_type value="Infection"/>
		<stack_type value="ignore"/>
		<duration value="300"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="5" tags="attPerception,attAgility"/>
			<passive_effect name="AttributeLevel" operation="base_add" value="2" tags="attStrength,attFortitude"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="StaminaChangeOT" operation="base_subtract" value="5"/>
			<passive_effect name="HealthChangeOT" operation="base_set" value="0"/>
			<passive_effect name="HealthLoss" operation="perc_add" value="0.4"/>
			<passive_effect name="StaminaLoss" operation="perc_add" value="0.7"/>
			<passive_effect name="StaminaMax" operation="base_subtract" value="20"/>
			<passive_effect name="HealthMaxModifierOT" operation="base_subtract" value="2"/>

			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffIllInfection3">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="1,20" operation="LTE" value="@$illnessChance"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffIllnessIndicatorTrigger"/>
		</effect_group>
	</buff>

	<buff name="buffStatusHungry1" name_key="buffStatusHungry1Name" description_key="buffStatusHungry1Desc" tooltip_key="buffStatusHungry1Tooltip" icon="ui_game_symbol_hunger" icon_color="255,128,0">
		<damage_type value="Starvation"/>
		<stack_type value="ignore"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffStatusHungry1">
				<requirement name="StatComparePercModMaxToMax" stat="Stamina" operation="GT" value="0.52"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="PlayerMaleHungry" play_in_head="true">
				<requirement name="IsMale"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="PlayerFemaleHungry" play_in_head="true">
				<requirement name="IsMale" invert="true"/>
			</triggered_effect>
		</effect_group>
	</buff>

	<buff name="buffStatusHungry2" name_key="buffStatusHungry2Name" description_key="buffStatusHungry2Desc" tooltip_key="buffStatusHungry2Tooltip" icon="ui_game_symbol_hunger" icon_color="255,0,0" icon_blink="true">
		<damage_type value="Starvation"/>
		<damage_source value="Internal"/>
		<stack_type value="ignore"/>
		<update_rate value="2.2"/>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffHealStaminaMax"/>
			<passive_effect name="StaminaChangeOT" operation="perc_subtract" value=".1"/>
			<passive_effect name="HealthMaxModifierOT" operation="base_subtract" value="0.05"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="subtract" value=".3">
					<requirement name="StatComparePercModMaxToMax" stat="stamina" operation="LT" value=".26"/>
			</triggered_effect>
		</effect_group>

		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="2" tags="attStrength,attFortitude"/>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="1" tags="attPerception"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<passive_effect name="HealthChangeOT" operation="base_subtract" value=".00416" /> <!-- 15 p h -->

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffStatusHungry1"/>

			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="PlayerMaleHungry" play_in_head="true">
				<requirement name="IsMale"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="PlayerFemaleHungry" play_in_head="true">
				<requirement name="IsMale" invert="true"/>
			</triggered_effect>
		</effect_group>

		<effect_group>
			<requirement name="StatComparePercModMaxToMax" stat="Stamina" operation="GTE" value="0.32"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffStatusHungry2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffStatusHungry1"/>
		</effect_group>
	</buff>

	<buff name="buffStatusThirsty1" name_key="buffStatusThirsty1Name" description_key="buffStatusThirsty1Desc" tooltip_key="buffStatusThirsty1Tooltip" icon="ui_game_symbol_water" icon_color="255,128,0">
		<damage_type value="Dehydration"/>
		<stack_type value="ignore"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffStatusThirsty1">
				<requirement name="StatComparePercCurrentToMax" stat="Water" operation="GT" value="0.77"/>
			</triggered_effect>
		</effect_group>
	</buff>

	<buff name="buffStatusThirsty2" name_key="buffStatusThirsty2Name" description_key="buffStatusThirsty2Desc" tooltip_key="buffStatusThirsty2Tooltip" icon="ui_game_symbol_water" icon_color="255,0,0" icon_blink="true">
		<damage_type value="Dehydration"/>
		<damage_source value="Internal"/>
		<stack_type value="ignore"/>
		<update_rate value="2.2"/>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffHealWaterMax"/>
			<passive_effect name="HealthMaxModifierOT" operation="base_subtract" value=".1"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="subtract" value=".5">
				<requirement name="StatComparePercCurrentToMax" stat="Water" operation="LTE" value=".26"/>
			</triggered_effect>
		</effect_group>

		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="2" tags="attStrength,attFortitude,attAgility,attPerception"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffStatusThirsty1"/>
		</effect_group>

		<effect_group>
			<requirement name="StatComparePercCurrentToMax" stat="Water" operation="GTE" value="0.32"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffStatusThirsty2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffStatusThirsty1"/>
		</effect_group>
	</buff>

	<buff name="buffStatusWounded" name_key="buffStatusWoundedName" description_key="buffStatusWoundedTooltip" tooltip_key="buffStatusWoundedTooltip" icon="ui_game_symbol_medical" icon_color="255,128,0">
		<damage_type value="Piercing"/>
		<stack_type value="ignore"/>
		<duration value="0"/>
		<update_rate value="2.5"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffStatusWounded">
				<requirement name="StatComparePercModMaxToMax" stat="Health" operation="GT" value="0.55"/>
			</triggered_effect>
		</effect_group>
	</buff>

	<!-- Deprecated -->
	<buff name="buffStatusDying" name_key="buffStatusDyingName" description_key="buffStatusDyingTooltip" tooltip_key="buffStatusDyingTooltip" icon="ui_game_symbol_medical" icon_color="255,0,0" icon_blink="true">
		<damage_type value="Piercing"/>
		<stack_type value="replace"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_subtract" value="3" tags="attStrength,attFortitude,attAgility,attPerception"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="HealthChangeOT" operation="base_subtract" value="0.5"/>

			<passive_effect name="StaminaChangeOT" operation="base_subtract" value="6"/>

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffStatusWounded"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffStatusDying">
				<requirement name="StatComparePercModMaxToMax" stat="Health" operation="GT" value="0.3"/>
			</triggered_effect>
		</effect_group>
	</buff>

<!-- ****************** Healing Item Buffs: Medical, Food, Drink ****************** -->
	<buff name="buffProcessConsumables" hidden="true">
		<stack_type value="ignore"/>
		<duration value=".05"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffHealHealth">
				<requirement name="CVarCompare" target="self" cvar="medicalHealthAmount" operation="GT" value="0"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffHealHealth">
				<requirement name="CVarCompare" target="self" cvar="foodHealthAmount" operation="GT" value="0"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffHealHealthMax">
				<requirement name="CVarCompare" target="self" cvar="maxHealthAmount" operation="GT" value="0"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffHealStaminaMax">
				<requirement name="CVarCompare" target="self" cvar="$foodAmountAdd" operation="GT" value="0"/></triggered_effect>
		</effect_group>

		<effect_group>
			<requirement name="CVarCompare" target="self" cvar="$waterAmountAdd" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$waterStaminaRegenAmount" operation="add" value="@$waterAmountAdd"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$waterAmountAdd2" operation="add" value="@$waterAmountAdd"/>

				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffHealWaterMax"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffWaterStaminaRegen"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" target="self" cvar="$waterAmountAdd" operation="set" value="0"/>

			<!-- <triggered_effect trigger="onSelfBuffRemove" action="LogMessage" message="water buff triggered"/> -->
		</effect_group>
	</buff>

	<buff name="buffHealHealth" name_key="buffHealHealthName" description_key="buffHealHealthDesc" icon="ui_game_symbol_add">
		<stack_type value="ignore"/>
		<update_rate value="1"/>
		<effect_group>
			<requirement name="CVarCompare" target="self" cvar="foodHealthAmount" operation="GTE" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="add" value=".5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="subtract" value=".5"/>
		</effect_group>

		<effect_group>
			<requirement name="CVarCompare" target="self" cvar="medicalHealthAmount" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="add" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medicalHealthAmount" operation="subtract" value="2"/>
		</effect_group>

		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffHealHealth">
				<requirement name="CVarCompare" target="self" cvar="medicalHealthAmount" operation="LTE" value="0"/>
				<requirement name="CVarCompare" target="self" cvar="foodHealthAmount" operation="LTE" value="-.5"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="healthIncrease" operation="set" value="2"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="foodHealthAmount" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="medicalHealthAmount" operation="set" value="0"/>
		</effect_group>
	</buff>

	<buff name="buffHealHealthMax" name_key="buffHealHealthMaxName" description_key="buffHealHealthMaxDesc" tags="medical" icon="ui_game_symbol_medical">
		<stack_type value="ignore"/>
		<update_rate value="1"/>
		<effect_group>
			<passive_effect name="HealthMaxModifierOT" operation="base_add" value="@maxHealthIncrease"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="maxHealthAmount" operation="subtract" value="1"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffHealHealthMax">
				<requirement name="CVarCompare" target="self" cvar="maxHealthAmount" operation="LTE" value="0"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffFinish" action="ModifyCVar" cvar="maxHealthIncrease" operation="set" value="1"/>

			<!--
			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="maxHealthIncrease"/>
			-->
		</effect_group>
	</buff>

	<!-- digesting food -->
	<!-- $foodAmountAdd is not displayed to the player and is the amount of Max Stamina that consuming food items stacks up.
		$foodAmount  is ADDED to the food stat for display purposes. The internal food stat number range is still = Max Stamina. -->
	<buff name="buffHealStaminaMax" name_key="buffHealStaminaMaxName" tags="food" icon="ui_game_symbol_hunger" icon_color="0,200,0" hidden="true">
		<stack_type value="ignore"/>
		<update_rate value=".1"/>
		<effect_group name="heal Stamina Max from $foodAmount reserve">
			<requirement name="IsStatAtMax" stat="maxstamina" invert="true"/>
			<requirement name="CVarCompare" cvar="$foodAmount" operation="GTE" value=".1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" target="self" stat="stamina" value_type="modifiedmax" operation="add" value=".1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="$foodAmount" operation="subtract" value=".1"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffBloodDrawKitRecover">
					<requirement name="CVarCompare" cvar="$BloodDrawKitCounter" operation="GT" value="0"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,800" operation="LTE" value="2"/>
				</triggered_effect>
		</effect_group>

		<effect_group name="converting $foodAmountAdd into $foodAmount">
			<requirement name="CVarCompare" cvar="$foodAmountAdd" operation="GTE" value=".1"/>
			<requirement name="CVarCompare" cvar="$foodAmount" operation="LT" value="50"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmount" operation="add" value=".1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="subtract" value=".1"/>
		</effect_group>

		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffHealStaminaMax">
				<requirement name="CVarCompare" cvar="$foodAmount" operation="LT" value=".1"/>
				<requirement name="CVarCompare" cvar="$foodAmountAdd" operation="LT" value=".1"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$foodAmount" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$foodAmountAdd" operation="set" value="0"/>
		</effect_group>

		<effect_group name="how much you can overeat">
			<requirement name="CVarCompare" cvar="$foodAmount" operation="GTE" value="50"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmount" operation="set" value="50"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="set" value="0"/>
		</effect_group>

		<effect_group> <!-- temp workaround -->
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodAmount" operation="set" value="@$foodAmount"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="foodAmount" operation="set" value="@$foodAmount"/>
		</effect_group>
	</buff>

	<!-- digesting food, displayed status; deprecated -->
	<buff name="buffHealStaminaMaxStatus" name_key="buffHealStaminaMaxStatusName" description_key="buffHealStaminaMaxStatusDesc" tags="food" icon="ui_game_symbol_hunger" hidden="true">
		<stack_type value="ignore"/>
		<effect_group>
			<requirements compare_type="or">
				<requirement name="StatComparePercModMaxToMax" stat="stamina" operation="GTE" value=".99"/>
				<requirement name="CVarCompare" cvar="$foodAmountAdd" operation="LTE" value="0"/>
				<requirement name="NotHasBuff" buff="buffHealStaminaMax"/>
			</requirements>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffHealStaminaMaxStatus"/>
		</effect_group>
	</buff>

	<buff name="buffPuking1" name_key="buffPuking1Name" tags="food" icon="ui_game_symbol_hunger" icon_color="255,0,0" hidden="true">
		<damage_type value="Disease"/>
		<stack_type value="ignore"/>
		<duration value="4"/>
		<update_rate value="2"/>
		<effect_group>
			<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="-12.5"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="water" operation="subtract" value="50"/>
			<passive_effect name="WalkSpeed" operation="perc_add" duration="0,4" value="-.9,-.7"/>
			<passive_effect name="RunSpeed" operation="perc_add" duration="0,4" value="-.9,-.7"/>
			<passive_effect name="CrouchSpeed" operation="perc_add" duration="0,4" value="-.9,-.7"/>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="$foodAmount" operation="set" value="1">
				<requirement name="CVarCompare" target="self" cvar="$foodAmount" operation="GT" value="1"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="0.4" fade=".8" effect_name="Drunk"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity="0" fade=".8" effect_name="Drunk"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" effect_name="Drunk"/>

			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="player1sick" play_in_head="true">
				<requirement name="IsMale"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="player2sick" play_in_head="true">
				<requirement name="IsMale" invert="true"/>
			</triggered_effect>
		</effect_group>
	</buff>

	<!-- digesting water -->
	<!-- if water LT .75, regen speed is .75; if water LT .5, regen speed is .5; if water LT .25, regen speed is .25 -->
			<!--
	<buff name="buffHealWaterMax" name_key="buffHealWaterMaxName" description_key="buffHealWaterMaxDesc" tags="drink" icon="ui_game_symbol_water">
		<stack_type value="ignore"/>
		<update_rate value="2"/>
		<effect_group>
			<passive_effect name="StaminaChangeOT" operation="perc_add" value=".15"/>
			<passive_effect name="WaterChangeOT" operation="base_add" value=".565"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="$waterAmount" operation="subtract" value="1"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="$waterAmount" operation="set" value="100">
				<requirement name="CVarCompare" target="self" cvar="$waterAmount" operation="GT" value="100"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffHealWaterMax">
				<requirement name="CVarCompare" target="self" cvar="$waterAmount" operation="LTE" value="0"/>
			</triggered_effect>
		</effect_group>
	</buff>
			-->

	<buff name="buffHealWaterMax" name_key="buffHealWaterMaxName" description_key="buffHealWaterMaxDesc" tags="drink" icon="ui_game_symbol_water" hidden="true">
		<stack_type value="ignore"/>
		<update_rate value=".1"/>
		<effect_group name="heal water stat from $waterAmount reserve">
			<requirement name="IsStatAtMax" stat="water" invert="true"/>
			<requirement name="CVarCompare" cvar="$waterAmount" operation="GTE" value=".1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" target="self" stat="water" operation="add" value=".1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="$waterAmount" operation="subtract" value=".1"/>
		</effect_group>

		<effect_group name="converting $waterAmountAdd2 into $waterAmount">
			<requirement name="CVarCompare" cvar="$waterAmountAdd2" operation="GTE" value=".1"/>
			<requirement name="CVarCompare" cvar="$waterAmount" operation="LT" value="50"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmount" operation="add" value=".1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd2" operation="subtract" value=".1"/>
		</effect_group>

		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffHealWaterMax">
				<requirement name="CVarCompare" cvar="$waterAmount" operation="LT" value=".1"/>
				<requirement name="CVarCompare" cvar="$waterAmountAdd2" operation="LT" value=".1"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$waterAmount" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$waterAmountAdd2" operation="set" value="0"/>
		</effect_group>

		<effect_group name="how much you can overdrink">
			<requirement name="CVarCompare" cvar="$waterAmount" operation="GTE" value="50"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmount" operation="set" value="50"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd2" operation="set" value="0"/>
		</effect_group>

		<effect_group> <!-- temp workaround -->
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="waterAmount" operation="set" value="@$waterAmount"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="waterAmount" operation="set" value="@$waterAmount"/>
		</effect_group>
	</buff>

	<buff name="buffWaterStaminaRegen" name_key="buffWaterStaminaRegenName" description_key="buffWaterStaminaRegenDesc" tags="drink" icon="ui_game_symbol_water">
		<stack_type value="ignore"/>
		<update_rate value="2"/>
		<effect_group>
			<passive_effect name="StaminaChangeOT" operation="perc_add" value=".15"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="$waterStaminaRegenAmount" operation="subtract" value="1"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="$waterStaminaRegenAmount" operation="set" value="150">
				<requirement name="CVarCompare" target="self" cvar="$waterStaminaRegenAmount" operation="GT" value="150"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffWaterStaminaRegen">
				<requirement name="CVarCompare" target="self" cvar="$waterStaminaRegenAmount" operation="LTE" value="0"/>
			</triggered_effect>
		</effect_group>
	</buff>

	<buff name="buffGoldenrodEffect" name_key="buffGoldenrodEffectName" description_key="buffGoldenrodEffectDesc" tags="drug" icon="ui_game_symbol_pills" hidden="true">
		<damage_type value="Disease"/>
		<stack_type value="ignore"/>
		<update_rate value="5"/>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffIllDysentery0"/>
			<requirement name="NotHasBuff" buff="buffIllDysentery1"/>
			<requirement name="NotHasBuff" buff="buffIllFoodPoisoning0"/>
			<requirement name="NotHasBuff" buff="buffIllFoodPoisoning1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffGoldenrodEffect"/>
		</effect_group>

		<effect_group>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllDysentery0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllFoodPoisoning0"/>
		</effect_group>
		<effect_group>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllDysentery1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllFoodPoisoning1"/>
		</effect_group>
	</buff>

	<buff name="buffHoneyEffect" name_key="buffHoneyEffectName" description_key="buffHoneyEffectDesc" tags="drug" icon="ui_game_symbol_pills" hidden="true">
		<damage_type value="Disease"/>
		<stack_type value="ignore"/>
		<update_rate value="5"/>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffIllInfection1"/>
			<requirement name="NotHasBuff" buff="buffIllPneumonia1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffHoneyEffect"/>
		</effect_group>
		<effect_group>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllInfection1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllPneumonia1"/>
		</effect_group>
	</buff>

	<buff name="buffDrugPainkillers" name_key="buffDrugPainkillersName" description_key="buffDrugPainkillersDesc" tags="drug" icon="ui_game_symbol_pills">
		<stack_type value="ignore"/>
		<duration value="180"/>
		<effect_group>
			<passive_effect name="HealthLoss" operation="perc_subtract" value="0.1"/>
			<passive_effect name="WaterChangeOT" operation="base_subtract" value="0.222"/>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="add" value="40"/>
		</effect_group>
	</buff>

	<buff name="buffDrugVitamins" name_key="drugVitamins" description_key="drugVitaminsDesc" tags="drug" icon="ui_game_symbol_pills">
		<stack_type value="ignore"/>
		<duration value="180"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_add" value="1" tags="attStrength,attFortitude,attAgility"/>

			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="HealthChangeOT" operation="base_add" value="0.25"/>
			<passive_effect name="StaminaChangeOT" operation="base_add" value="2"/>
			<passive_effect name="WaterChangeOT" operation="base_subtract" value="0.1944"/>
		</effect_group>
	</buff>

	<buff name="buffDrugAntibiotics" name_key="buffDrugAntibioticsName" description_key="buffDrugAntibioticsDesc" tags="drug" icon="ui_game_symbol_pills">
		<damage_type value="Disease"/>
		<stack_type value="replace"/>
		<duration value="600"/>
		<update_rate value="59"/>

		<effect_group name="Side effects may include...">
			<passive_effect name="StaminaMaxModifierOT" operation="base_subtract" value="0.1"/>
			<passive_effect name="WaterChangeOT" operation="base_subtract" value="0.08"/>
			<!--
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="$AntibioticsTick" operation="add" value="1"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="$AntibioticsTick"/>

			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" target="self" cvar="$AntibioticsTick" operation="set" value="0"/>
			-->
		</effect_group>

		<effect_group name="man, you really want those side effects">
			<requirement name="HasBuff" buff="buffDrugHerbalAntibiotics"/>
				<passive_effect name="StaminaMaxModifierOT" operation="base_subtract" value="0.05"/>
				<passive_effect name="WaterChangeOT" operation="base_subtract" value="0.05"/>
		</effect_group>

		<effect_group name="Cure Infection 0">
			<requirement name="HasBuff" buff="buffIllInfection0"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="40"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllInfection0"/>
		</effect_group>

		<effect_group name="Cure Infection 1">
			<requirement name="HasBuff" buff="buffIllInfection1"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="30"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllInfection1"/>
		</effect_group>

		<effect_group name="Cure Infection 2">
			<requirement name="HasBuff" buff="buffIllInfection2"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllInfection2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffIllInfection1"/>
		</effect_group>

		<effect_group name="Cure Infection 3">
			<requirement name="HasBuff" buff="buffIllInfection3"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllInfection3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffIllInfection2"/>
		</effect_group>


		<effect_group name="Cure Dysentery 0">
			<requirement name="HasBuff" buff="buffIllDysentery0"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="40"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllDysentery0"/>
		</effect_group>

		<effect_group name="Cure Dysentery 1">
			<requirement name="HasBuff" buff="buffIllDysentery1"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="30"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllDysentery1"/>
		</effect_group>

		<effect_group name="Cure Dysentery 2">
			<requirement name="HasBuff" buff="buffIllDysentery2"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllDysentery2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffIllDysentery1"/>
		</effect_group>


		<effect_group name="Cure Food Poisoning 0">
			<requirement name="HasBuff" buff="buffIllFoodPoisoning0"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="40"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllFoodPoisoning0"/>
		</effect_group>

		<effect_group name="Cure Food Poisoning 1">
			<requirement name="HasBuff" buff="buffIllFoodPoisoning1"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="30"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllFoodPoisoning1"/>
		</effect_group>

		<effect_group name="Cure Food Poisoning 2">
			<requirement name="HasBuff" buff="buffIllFoodPoisoning2"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllFoodPoisoning2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffIllFoodPoisoning1"/>
		</effect_group>


		<effect_group name="Cure Pneumonia 0">
			<requirement name="HasBuff" buff="buffIllPneumonia0"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="40"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllPneumonia0"/>
		</effect_group>

		<effect_group name="Cure Pneumonia 1">
			<requirement name="HasBuff" buff="buffIllPneumonia1"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllPneumonia1"/>
		</effect_group>


	</buff>

	<buff name="buffDrugHerbalAntibiotics" name_key="buffDrugHerbalAntibioticsName" description_key="buffDrugHerbalAntibioticsDesc" tags="drug" icon="ui_game_symbol_pills">
		<damage_type value="Disease"/>
		<stack_type value="replace"/>
		<duration value="600"/>
		<update_rate value="59"/>
		<effect_group name="Side effects may include...">
			<passive_effect name="StaminaMaxModifierOT" operation="base_subtract" value="0.07"/>
			<passive_effect name="WaterChangeOT" operation="base_subtract" value="0.05"/>
		</effect_group>

		<effect_group name="Cure Infection 0">
			<requirement name="HasBuff" buff="buffIllInfection0"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllInfection0"/>
		</effect_group>

		<effect_group name="Cure Infection 1">
			<requirement name="HasBuff" buff="buffIllInfection1"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllInfection1"/>
		</effect_group>

		<effect_group name="Cure Infection 2">
			<requirement name="HasBuff" buff="buffIllInfection2"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="13"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllInfection2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffIllInfection1"/>
		</effect_group>

		<effect_group name="Cure Infection 3">
			<requirement name="HasBuff" buff="buffIllInfection3"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="7"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllInfection3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffIllInfection2"/>
		</effect_group>


		<effect_group name="Cure Dysentery 0">
			<requirement name="HasBuff" buff="buffIllDysentery0"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllDysentery0"/>
		</effect_group>

		<effect_group name="Cure Dysentery 1">
			<requirement name="HasBuff" buff="buffIllDysentery1"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllDysentery1"/>
		</effect_group>

		<effect_group name="Cure Dysentery 2">
			<requirement name="HasBuff" buff="buffIllDysentery2"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="13"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllDysentery2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffIllDysentery1"/>
		</effect_group>


		<effect_group name="Cure Food Poisoning 0">
			<requirement name="HasBuff" buff="buffIllFoodPoisoning0"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllFoodPoisoning0"/>
		</effect_group>

		<effect_group name="Cure Food Poisoning 1">
			<requirement name="HasBuff" buff="buffIllFoodPoisoning1"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllFoodPoisoning1"/>
		</effect_group>

		<effect_group name="Cure Food Poisoning 2">
			<requirement name="HasBuff" buff="buffIllFoodPoisoning2"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="13"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllFoodPoisoning2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffIllFoodPoisoning1"/>
		</effect_group>


		<effect_group name="Cure Pneumonia 0">
			<requirement name="HasBuff" buff="buffIllPneumonia0"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllPneumonia0"/>
		</effect_group>

		<effect_group name="Cure Pneumonia 1">
			<requirement name="HasBuff" buff="buffIllPneumonia1"/>
			<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffIllPneumonia1"/>
		</effect_group>
	</buff>


<!--legacy drunk code
	<buff name="buffDrunk1" name_key="buffDrunk1Name" description_key="buffDrunk1Desc" tooltip_key="buffDrunk1Tooltip" icon="ui_game_symbol_beer">
		<stack_type value="duration"/>
		<duration value="60"/>
		<update_rate value="30"/>
		<effect_group>
			<passive_effect name="EntityDamage" operation="perc_add" value="@$DrunkMelee" tags="melee"/>
			<passive_effect name="StaminaChangeOT" operation="base_add" value="@$DrunkStam"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrunk2" target="self">
				<requirement name="CVarCompare" cvar="beers" target="self" operation="GT" value="3"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="0.5" effect_name="Drunk"/>
			<triggered_effect trigger="onSelfBuffFinish" action="ModifyScreenEffect" intensity="0" effect_name="Drunk"/>
		</effect_group>
	</buff>

	<buff name="buffDrunk1Extended" icon="ui_game_symbol_beer">
		<duration value="1"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffDrunk1"/>
		</effect_group>
	</buff>

	<buff name="buffDrunk2" name_key="buffDrunk2Name" description_key="buffDrunk2Desc" tooltip_key="buffDrunk2Tooltip" icon="ui_game_symbol_beer">
		<stack_type value="duration"/>
		<duration value="120"/>
		<effect_group>
			<passive_effect name="EntityDamage" operation="perc_add" value="@$DrunkMelee" tags="melee"/>
			<passive_effect name="StaminaChangeOT" operation="base_add" value="@$DrunkStam"/>
			<passive_effect name="HealthLoss" operation="perc_subtract" value="@$DrunkRes"/>
			<passive_effect name="HealthChangeOT" operation="base_add" value="@$DrunkHeal"/>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="1" effect_name="Drunk"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" effect_name="Drunk"/>

			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffDrunk1"/>
			<triggered_effect trigger="onSelfBuffFinish" action="ModifyCVar" cvar="beers" target="self" operation="subtract" value="2"/>

			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffDrunk1">
				<requirement name="CVarCompare" cvar="beers" target="self" operation="LT" value="3"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffDrunk2">
				<requirement name="CVarCompare" cvar="beers" target="self" operation="GTE" value="3"/>
			</triggered_effect>
		</effect_group>
	</buff>-->

	<buff name="buffEncumberedInv" name_key="buffEncumberedInvName" description_key="buffEncumberedInvDesc" tooltip_key="buffEncumberedInvTooltip" icon="ui_game_symbol_pack_mule">
		<stack_type value="ignore"/>
		<damage_type value="stun"/>
		<update_rate value="2.1"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$encumbranceEffect" target="self" operation="set" value="@_encumberedslots"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$encumbranceEffect" target="self" operation="multiply" value="0.026"/> <!--0.026% X 27 = 0.70-->
			<passive_effect name="Mobility" operation="perc_subtract"  value="@$encumbranceEffect"/>
			<!--<passive_effect name="JumpStrength" operation="perc_subtract"  value="@$encumbranceEffect"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="_encumbrance"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="_encumberedslots"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="$encumbranceEffect"/>
			-->
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffEncumberedInv">
				<requirement name="CVarCompare" cvar="_encumberedslots" operation="LT" value="1"/>
			</triggered_effect>
		</effect_group>
	</buff>


	<buff name="buffEncumberedWield" hidden="true" name_key="buffEncumberedWieldName" description_key="buffEncumberedWieldDesc" tooltip_key="buffEncumberedWieldTooltip" >
		<stack_type value="ignore"/>
		<damage_type value="stun"/>
		<effect_group>
<!--
icon="ui_game_symbol_pack_mule"

			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$encumbranceEffect" target="self" operation="set" value="@_encumbrance"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$encumbranceEffect" target="self" operation="multiply" value="0.7"/>
			<passive_effect name="Mobility" operation="perc_subtract"  value="@$encumbranceEffect"/>
			<passive_effect name="JumpStrength" operation="perc_subtract"  value="@$encumbranceEffect"/>
-->
		</effect_group>
	</buff>

	<buff name="buffDrowning1" name_key="buffDrowning1Name" description_key="buffDrowning1Desc" tooltip_key="buffDrowning1Tooltip" icon="ui_game_symbol_oxygen">
		<damage_type value="Suffocation"/>
		<duration value="0"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffDrowning1">
				<requirement name="CVarCompare" cvar="_underwater" operation="NotEquals" value="1"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$DrowningTimer" operation="set" value="@$DrowningTimerMax"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$DrowningTimer" operation="subtract" value="1"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffDrowning2">
				<requirement name="CVarCompare" cvar="$DrowningTimer" operation="LTE" value="0"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffDrowning1">
				<requirement name="CVarCompare" cvar="$DrowningTimer" operation="LTE" value="0"/>
			</triggered_effect>
		</effect_group>
	</buff>
	<buff name="buffDrowning2" name_key="buffDrowning2Name" description_key="buffDrowning2Desc" tooltip_key="buffDrowning2Tooltip" icon="ui_game_symbol_oxygen" icon_color="255,128,0">
		<damage_type value="Suffocation"/>
		<duration value="0"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffDrowning2">
				<requirement name="CVarCompare" cvar="_underwater" operation="NotEquals" value="1"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$DrowningTimer" operation="set" value="@$DrowningTimerMax"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$DrowningTimer" operation="subtract" value="1"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffDrowning3">
				<requirement name="CVarCompare" cvar="$DrowningTimer" operation="LTE" value="0"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffDrowning2">
				<requirement name="CVarCompare" cvar="$DrowningTimer" operation="LTE" value="0"/>
			</triggered_effect>
		</effect_group>
	</buff>
	<buff name="buffDrowning3" name_key="buffDrowning3Name" description_key="buffDrowning3Desc" tooltip_key="buffDrowning3Tooltip" icon="ui_game_symbol_oxygen" icon_color="255,0,0" icon_blink="true">
		<damage_type value="Suffocation"/>
		<duration value="1000"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffDrowning3">
				<requirement name="CVarCompare" cvar="_underwater" operation="NotEquals" value="1"/>
			</triggered_effect>
			<passive_effect name="HealthChangeOT" operation="base_subtract" duration="0,10" value="1,1"/>
			<passive_effect name="HealthChangeOT" operation="base_subtract" duration="10,50" value="1,30"/>
			<passive_effect name="HealthChangeOT" operation="base_subtract" duration="50,1000" value="40,1000"/>
		</effect_group>
	</buff>



<!-- ****************** Item Buffs ****************** -->

	<!--
	<buff name="buffJumpJetsActivated" hidden="true">
		<stack_type value="replace"/>
		<duration value="5"/>
		<effect_group>
			<passive_effect name="WalkSpeed" operation="perc_subtract" value=".35"/>
			<passive_effect name="RunSpeed" operation="perc_subtract" value=".35"/>
			<passive_effect name="JumpStrength" operation="perc_add" value="3.2"/>
			<passive_effect name="StaminaLoss" operation="perc_subtract" value=".75" tags="jumping"/>

			<triggered_effect trigger="onSelfJump" action="PlaySound" sound="m136_fire" play_in_head="true"/>
			<triggered_effect trigger="onSelfJump" action="AddBuff" buff="buffJumpJetsAirborne"/>

			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="buff_stunned" play_in_head="true"/>
			<triggered_effect trigger="onSelfEnteredGame" action="PlaySound" target="self" sound="buff_stunned" play_in_head="true"/>

			<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="buff_stunned" play_in_head="true"/>

		</effect_group>
	</buff>
	-->
	<buff name="buffBloodDrawKitMaster" name_key="buffBloodDrawKitMasterName" tags="drug" icon="ui_game_symbol_skull" icon_color="0,255,0" remove_on_death="false" hidden="true">
		<damage_type value="Disease"/>
		<stack_type value="replace"/>
		<update_rate value="900"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffAnemia1"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$BloodDrawKitCounter" operation="set" value="1"/>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$BloodDrawKitCounter" operation="add" value="1"/>

			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffBloodDrawKitBlocker"/>
			<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffBloodDrawKitBlocker"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$BloodDrawKitCounter" operation="subtract" value="1"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffBloodDrawKitMaster">
				<requirement name="CVarCompare" cvar="$BloodDrawKitCounter" operation="LTE" value="0"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffBloodDrawKitUpdate"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffBloodDrawKitUpdate"/>
			<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffBloodDrawKitUpdate"/>

			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$BloodDrawKitCounter" operation="set" value="0"/>
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffAnemia1"/>
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffAnemia2"/>
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffAnemia3"/>

			<triggered_effect trigger="onSelfBuffStart" action="CVarLogValue" cvar="$BloodDrawKitCounter"/>
			<triggered_effect trigger="onSelfBuffStack" action="CVarLogValue" cvar="$BloodDrawKitCounter"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="$BloodDrawKitCounter"/>
		</effect_group>
	</buff>

	<buff name="buffBloodDrawKitRecover" hidden="true"> <!-- recover from $BloodDrawKitCounter by digesting food -->
		<damage_type value="Disease"/>
		<duration value=".1"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$BloodDrawKitCounter" operation="subtract" value="1"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffBloodDrawKitUpdate"/>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffBloodDrawKitMaster">
				<requirement name="CVarCompare" cvar="$BloodDrawKitCounter" operation="LTE" value="0"/>
			</triggered_effect>
		</effect_group>
	</buff>

	<buff name="buffBloodDrawKitUpdate" hidden="true">
		<damage_type value="Disease"/>
		<duration value=".1"/>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffAnemia1"/>
			<requirement name="CVarCompare" cvar="$BloodDrawKitCounter" operation="GTE" value="1"/>
			<requirement name="CVarCompare" cvar="$BloodDrawKitCounter" operation="LTE" value="2"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffAnemia1"/>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAnemia2"/>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAnemia3"/>
		</effect_group>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffAnemia2"/>
			<requirement name="CVarCompare" cvar="$BloodDrawKitCounter" operation="Equals" value="3"/>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAnemia1"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffAnemia2"/>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAnemia3"/>
		</effect_group>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffAnemia3"/>
			<requirement name="CVarCompare" cvar="$BloodDrawKitCounter" operation="Equals" value="4"/>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAnemia1"/>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAnemia2"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffAnemia3"/>
		</effect_group>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffAnemia4"/>
			<requirement name="CVarCompare" cvar="$BloodDrawKitCounter" operation="GTE" value="5"/>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAnemia1"/>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAnemia2"/>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAnemia3"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffAnemia4"/>
		</effect_group>
	</buff>

	<buff name="buffBloodDrawKitBlocker" name_key="buffBloodDrawKitBlockerName" tags="drug" icon="ui_game_symbol_skull" icon_color="0,0,255" hidden="true">
		<damage_type value="Disease"/>
		<damage_source value="Internal"/>
		<stack_type value="replace"/>
		<duration value="20"/>
		<effect_group>
			<passive_effect name="WaterChangeOT" operation="base_subtract" value="1,1" duration="0,20"/>
			<passive_effect name="StaminaMaxModifierOT" operation="base_subtract" value="1,1" duration="0,20"/>
			<passive_effect name="HealthMaxModifierOT" operation="base_subtract" value=".1,.1" duration="0,20"/>
			<passive_effect name="HealthChangeOT" operation="base_subtract" value=".5,.5" duration="0,20"/>
		</effect_group>
	</buff>

	<buff name="buffAnemia1" name_key="buffAnemia1Name" remove_on_death="false" description_key="buffAnemiaGroupDesc" tooltip_key="buffAnemiaGroupTooltip" tags="drug" icon="ui_game_symbol_skull" icon_color="255,128,0">
		<damage_type value="Disease"/>
		<effect_group>
			<passive_effect name="WaterLossPerStaminaPointGained" operation="perc_add" value=".2"/>
			<passive_effect name="StaminaLossMaxMult" operation="perc_add" value="0.2"/>

			<passive_effect name="AttributeLevel" operation="base_subtract" value="1" tags="attFortitude,attAgility"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>
	<buff name="buffAnemia2" name_key="buffAnemia2Name" remove_on_death="false" description_key="buffAnemiaGroupDesc" tooltip_key="buffAnemiaGroupTooltip" tags="drug" icon="ui_game_symbol_skull" icon_color="255,64,0">
		<damage_type value="Disease"/>
		<effect_group>
			<passive_effect name="WaterLossPerStaminaPointGained" operation="perc_add" value=".3"/>
			<passive_effect name="StaminaLossMaxMult" operation="perc_add" value="0.3"/>

			<passive_effect name="AttributeLevel" operation="base_subtract" value="2" tags="attFortitude,attAgility"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>
	<buff name="buffAnemia3" name_key="buffAnemia3Name" remove_on_death="false" description_key="buffAnemiaGroupDesc" tooltip_key="buffAnemiaGroupTooltip" tags="drug" icon="ui_game_symbol_skull" icon_color="255,0,0">
		<damage_type value="Disease"/>
		<effect_group>
			<passive_effect name="WaterLossPerStaminaPointGained" operation="perc_add" value=".5"/>
			<passive_effect name="StaminaLossMaxMult" operation="perc_add" value="0.5"/>

			<passive_effect name="AttributeLevel" operation="base_subtract" value="4" tags="attFortitude,attAgility"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>
	<buff name="buffAnemia4" name_key="buffAnemia4Name" description_key="buffAnemia4Desc" tooltip_key="buffAnemia4Desc" tags="drug" icon="ui_game_symbol_skull" icon_color="255,0,0" icon_blink="true">
		<damage_type value="Disease"/>
		<damage_source value="Internal"/>
		<duration value="12"/>
		<effect_group>
			<passive_effect name="HealthChangeOT" operation="base_subtract" duration="0,3,4,12" value="0,0,50,50" />
			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" effect_name="Infected" intensity=".8" fade="0.5"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" effect_name="Infected" intensity="0" fade="1"/>
			<triggered_effect trigger="onSelfDied" action="ModifyScreenEffect" effect_name="Infected" intensity="0" fade="0"/>
			<triggered_effect trigger="onSelfDied" action="ModifyCVar" cvar="$BloodDrawKitCounter" operation="set" value="4"/>
		</effect_group>
	</buff>

	<buff name="buffJumpJetsAirborne" hidden="true">
		<stack_type value="replace"/>
		<duration value="5"/>
		<effect_group>
			<passive_effect name="WalkSpeed" operation="perc_add" value="2.35"/>
			<passive_effect name="RunSpeed" operation="perc_add" value="2.35"/>
			<triggered_effect trigger="onSelfFallImpact" action="RemoveBuff" buff="buffJumpJetsAirborne"/>
		</effect_group>
	</buff>

	<buff name="buffBandolier" hidden="true">
		<stack_type value="ignore"/>
		<duration value="0"/>
		<effect_group>
			<passive_effect name="ReloadSpeedMultiplier" operation="perc_add" value=".3"/>
		</effect_group>
	</buff>

	<buff name="buffCoffee" name_key="buffCoffeeName" description_key="buffCoffeeDesc" icon="ui_game_symbol_coffee" tags="drug">
		<stack_type value="duration"/>
		<duration value="180"/>
		<effect_group>
			<passive_effect name="StaminaChangeOT" operation="perc_add" value="0.25">
				<requirement name="NotHasBuff" buff="buffHealWaterMax"/>
			</passive_effect>
			<passive_effect name="StaminaChangeOT" operation="perc_add" value="0.1">
				<requirement name="HasBuff" buff="buffHealWaterMax"/>
			</passive_effect>
			<passive_effect name="HypothermalResist" operation="base_add" value="5"/>
		</effect_group>
	</buff>

	<buff name="buffYuccaJuiceSmoothie" name_key="drinkYuccaJuiceSmoothie" description_key="drinkYuccaJuiceSmoothieDesc" icon="ui_game_symbol_coffee" tags="drug">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="HypothermalResist" operation="base_add" value="30"/>
		</effect_group>
	</buff>

	<buff name="buffBeer" name_key="buffDrunk1Name" description_key="buffDrunk1Desc" tooltip_key="buffDrunk1Tooltip" icon="ui_game_symbol_beer">
		<damage_type value="disease"/>
		<stack_type value="replace"/>
		<duration value="30"/>
		<effect_group>
		<passive_effect name="EntityDamage" operation="perc_add" value="3">
			<requirement name="HoldingItemHasTags" tags="fists" />
		</passive_effect>

		<passive_effect name="StaminaChangeOT" operation="perc_add" value="0.5">
			<requirement name="NotHasBuff" buff="buffHealWaterMax"/>
		</passive_effect>
		<passive_effect name="StaminaChangeOT" operation="perc_add" value="0.35">
			<requirement name="HasBuff" buff="buffHealWaterMax"/>
		</passive_effect>

		<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="0.3" effect_name="Drunk"/>
		<triggered_effect trigger="onSelfBuffFinish" action="ModifyScreenEffect" intensity="0" effect_name="Drunk"/>
		<passive_effect name="BuffResistance" operation="base_add" value="1" tags="buffInjuryStunned1"/>
		</effect_group>
	</buff>

	<buff name="buffMegaCrush" name_key="buffMegaCrushName" description_key="buffMegaCrushDesc" tooltip_key="buffMegaCrushTooltip" icon="ui_game_symbol_pills" tags="drug">
		<stack_type value="replace"/>
		<duration value="120"/>
		<effect_group>
			<passive_effect name="RunSpeed" operation="perc_add" value=".5"/>
			<passive_effect name="WaterLossPerStaminaPointGained" operation="perc_add" value="1.2"/> <!-- regening stamina costs you water -->
			<passive_effect name="StaminaLossMaxMult" operation="perc_add" value="1.2"/> <!-- regening stamina costs food, blacks out the stamina bar -->
		</effect_group>
	</buff>

	<buff name="buffRedTea" name_key="buffRedTea" description_key="buffRedTeaDesc" icon="ui_game_symbol_coffee">
		<stack_type value="replace"/>
		<duration value="180"/>
		<effect_group>
			<passive_effect name="WaterLossPerStaminaPointGained" operation="perc_subtract" value="0.2"/>
			<passive_effect name="StaminaLossMaxMult" operation="perc_subtract" value="0.15"/>
		</effect_group>
	</buff>

	<buff name="buffDrunkGrandpasMoonshine" name_key="buffDrunkGrandpasMoonshineName" description_key="buffDrunkGrandpasMoonshineDesc" tooltip_key="buffDrunkGrandpasMoonshineTooltip" icon="ui_game_symbol_beer">
		<stack_type value="duration"/>
		<duration value="30"/>
		<effect_group>
			<passive_effect name="AttributeLevel" tags="attFortitude" operation="base_add" value="2" />
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="EntityDamage" operation="perc_add" value="4">
				<requirement name="HoldingItemHasTags" tags="melee" />
			</passive_effect>
			<passive_effect name="StaminaChangeOT" operation="perc_add" value="0.7" />
			<passive_effect name="BuffResistance" operation="base_add" value="1" tags="buffInjuryStunned1"/>
			<passive_effect name="HealthLoss" operation="perc_subtract" value="0.5"/>
			<passive_effect name="HealthChangeOT" operation="base_add" value="20" duration="29"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="1" fade="4" effect_name="Drunk"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" fade="4" effect_name="Drunk"/>
		</effect_group>
	</buff>

	<buff name="buffDrunkGrandpasAwesomeSauce" name_key="buffDrunkGrandpasAwesomeSauceName" description_key="buffDrunkGrandpasAwesomeSauceDesc" tooltip_key="buffDrunkGrandpasAwesomeSauceTooltip" icon="ui_game_symbol_beer">
		<stack_type value="duration"/>
		<duration value="180"/>
		<effect_group>
			<passive_effect name="BarteringBuying" operation="base_add" value=".2" />
			<passive_effect name="BarteringSelling" operation="base_add" value=".2" />
		</effect_group>
	</buff>

	<buff name="buffDrunkGrandpasLearningElixir" name_key="buffDrunkGrandpasLearningElixirName" description_key="buffDrunkGrandpasLearningElixirDesc" tooltip_key="buffDrunkGrandpasLearningElixirTooltip" icon="ui_game_symbol_beer">
		<stack_type value="duration"/>
		<duration value="240"/>
		<effect_group>
			<passive_effect name="PlayerExpGain" operation="perc_add" value=".2" />
		</effect_group>
	</buff>

	<buff name="buffShamChowder" name_key="buffShamChowderName" description_key="buffShamChowderDesc" icon="ui_game_symbol_assemble" tags="food">
		<stack_type value="replace"/>
		<duration value="600"/>
		<effect_group>
			<passive_effect name="AttributeLevel" tags="attFortitude" operation="base_add" value="1" />
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffDrugSteroids" name_key="buffDrugSteroidsName" description_key="buffDrugSteroidsDesc" icon="ui_game_symbol_steroids" tags="drug">
		<stack_type value="replace"/>
		<duration value="600"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_add" value="3" tags="attStrength"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<passive_effect name="WaterChangeOT" operation="base_subtract" value=".083"/>
			<passive_effect name="CarryCapacity" operation="base_set" value="50" />
		</effect_group>

		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffDrugSteroidsSideEffect"/>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffDrugSteroidsSideEffect">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
			</triggered_effect>
		</effect_group>
	</buff>
	<buff name="buffDrugSteroidsSideEffect" name_key="buffDrugSteroidsSideEffectName" description_key="buffDrugSteroidsSideEffectDesc" tooltip_key="buffDrugSteroidsSideEffectTooltip" icon="ui_game_symbol_pills" icon_color="255,128,0" tags="drug">
		<damage_type value="disease"/>
		<stack_type value="ignore"/>
		<duration value="600"/>
		<effect_group>
			<passive_effect name="AttributeLevel" tags="attStrength" operation="base_subtract" value="1"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffDrugRecog" name_key="buffDrugRecogName" description_key="buffDrugRecogDesc" tooltip_key="buffDrugRecogTooltip" icon="ui_game_symbol_gunslinger">
		<stack_type value="replace"/>
		<duration value="30"/>
		<effect_group>
			<passive_effect name="AttributeLevel" tags="attPerception" operation="base_add" value="2" />
			<passive_effect name="EntityDamage" operation="perc_add" value="4">
				<requirement name="HoldingItemHasTags" tags="ranged" />
			</passive_effect>
			<passive_effect name="WaterChangeOT" operation="base_subtract" value="1"/>
		</effect_group>

		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffDrugRecogSideEffect"/>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffDrugRecogSideEffect">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
			</triggered_effect>
		</effect_group>
	</buff>
	<buff name="buffDrugRecogSideEffect" name_key="buffDrugRecogSideEffectName" description_key="buffDrugRecogSideEffectDesc" icon="ui_game_symbol_gunslinger" icon_color="255,128,0" tags="drug">
		<damage_type value="disease"/>
		<stack_type value="ignore"/>
		<update_rate value="4"/>
		<duration value="600"/>
		<effect_group>
			<passive_effect name="AttributeLevel" tags="attPerception" operation="base_subtract" value="1"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" effect_name="Blur" intensity="0" fade="2.0">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="50"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" effect_name="Blur" intensity=".75" fade="2.0">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="20"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" effect_name="Blur" intensity="0" fade="1.5"/>
		</effect_group>
	</buff>

	<buff name="buffDrugFortBites" name_key="buffDrugFortBitesName" description_key="buffDrugFortBitesDesc" tooltip_key="buffDrugFortBitesTooltip" icon="ui_game_symbol_defense">
		<stack_type value="replace"/>
		<duration value="30"/>
		<effect_group>
			<passive_effect name="AttributeLevel" tags="attFortitude" operation="base_add" value="2" />
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="HealthChangeOT" operation="base_add" duration="0,5.5" value="5,5"/>

			<passive_effect name="PhysicalDamageResist" operation="base_add" value="50" tags="coredamageresist"/>
			<passive_effect name="HyperthermalResist" operation="base_add" value="50"/>
			<passive_effect name="HypothermalResist" operation="base_add" value="50" />
			<passive_effect name="WaterChangeOT" operation="base_subtract" value="1"/>
		</effect_group>

		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffDrugFortBitesSideEffect"/>
			<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" target="self" buff="buffDrugFortBitesSideEffect">
				<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
			</triggered_effect>
		</effect_group>
	</buff>
	<buff name="buffDrugFortBitesSideEffect" name_key="buffDrugFortBitesSideEffectName" description_key="buffDrugFortBitesSideEffectDesc" icon="ui_game_symbol_defense" icon_color="255,128,0" tags="drug">
		<damage_type value="disease"/>
		<stack_type value="ignore"/>
		<duration value="600"/>
		<effect_group>
			<passive_effect name="AttributeLevel" tags="attFortitude" operation="base_subtract" value="1" />
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="HealthMax" operation="base_add" duration="0,20,550,600" value="0,-20,-20,0"/>
			<passive_effect name="PhysicalDamageResist" operation="base_add" value="-10" tags="coredamageresist"/>
			<passive_effect name="HyperthermalResist" operation="base_add" value="-5"/>
			<passive_effect name="HypothermalResist" operation="base_add" value="-5" />
		</effect_group>
	</buff>

	<buff name="buffDrugDiazepam" name_key="buffDrugDiazepamName" description_key="buffDrugDiazepamDesc" tooltip_key="buffDrugDiazepamTooltip" icon="ui_game_symbol_pills" tags="drug">
		<stack_type value="ignore"/>
		<duration value="60"/>

		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_add" value="2" tags="attPerception"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>

			<passive_effect name="SpreadMultiplierHip" operation="perc_subtract" value="0.25"/>
			<passive_effect name="SpreadMultiplierAiming" operation="perc_subtract" value="0.25"/>
			<passive_effect name="WaterChangeOT" operation="base_subtract" value="1"/>
		</effect_group>
	</buff>

	<buff name="buffArmorShredding" name_key="buffArmorShreddingName" description_key="buffArmorShreddingDesc" tooltip_key="buffArmorShreddingTooltip" icon="ui_game_symbol_armor_iron" icon_color="255,128,0">
		<stack_type value="replace"/>
		<duration value="20"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$ArmorShreddingCounter" operation="set" value=".2"/>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$ArmorShreddingCounter" operation="add" value=".2"/>
			<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$ArmorShreddingCounter" operation="set" value="0"/>
			<passive_effect name="PhysicalDamageResist" operation="perc_subtract" value="@$ArmorShreddingCounter"/>
		</effect_group>
	</buff>

	<buff name="buffMagazineAttPerception" name_key="buffMagazineAttPerceptionName" description_key="buffMagazineAttPerceptionDesc" icon="ui_game_symbol_book">
		<stack_type value="ignore"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_add" value="1" tags="attPerception"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffMagazinePerkGunslinger"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkShotgunMessiah"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkAutomaticWeapons"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkDeadEye"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkArchery"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkExplosiveWeapons"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkHeadshot"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkRunAndGun"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkLuckyLooter"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkSalvageOperations"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffMagazineAttPerception"/>
		</effect_group>
	</buff>

	<buff name="buffMagazineAttStrength" name_key="buffMagazineAttStrengthName" description_key="buffMagazineAttStrengthDesc" icon="ui_game_symbol_book">
		<stack_type value="ignore"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_add" value="1" tags="attStrength"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffMagazinePerkSexualTrex"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkFlurryOfBlows"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkDeepCuts"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkStayDown"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkHeavyMetal"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkSkullCrusher"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkMiner69r"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkPackMule"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkMotherLode"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffMagazineAttStrength"/>
		</effect_group>
	</buff>

	<buff name="buffMagazineAttFortitude" name_key="buffMagazineAttFortitudeName" description_key="buffMagazineAttFortitudeDesc" icon="ui_game_symbol_book">
		<stack_type value="ignore"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_add" value="1" tags="attFortitude"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffMagazinePerkHeavyArmor"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkTheHuntsman"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkIntrinsicImmunity"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkWellInsulated"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkLivingOffTheLand"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkPainTolerance"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkHealingFactor"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkSlowMetabolism"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkSelfMedicated"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffMagazineAttFortitude"/>
		</effect_group>
	</buff>

	<buff name="buffMagazineAttAgility" name_key="buffMagazineAttAgilityName" description_key="buffMagazineAttAgilityDesc" icon="ui_game_symbol_book">
		<stack_type value="ignore"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_add" value="1" tags="attAgility"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffMagazinePerkRuleOneCardio"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkLightArmor"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkChargingBull"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkParkour"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkOlympicSwimmer"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkNinjaMovement"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkHiddenStrike"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkFromTheShadows"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffMagazineAttAgility"/>
		</effect_group>
	</buff>

	<buff name="buffMagazineAttIntellect" name_key="buffMagazineAttIntellectName" description_key="buffMagazineAttIntellectDesc" icon="ui_game_symbol_book">
		<stack_type value="ignore"/>
		<effect_group>
			<passive_effect name="AttributeLevel" operation="base_add" value="1" tags="attIntellect"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
			<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
		<effect_group>
			<requirement name="NotHasBuff" buff="buffMagazinePerkBetterBarter"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkDaringAdventurer"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkCharismaticNature"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkHammerForge"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkGreaseMonkey"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkAdvancedEngineering"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkYeahScience"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkPhysician"/>
			<requirement name="NotHasBuff" buff="buffMagazinePerkMasterChef"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffMagazineAttIntellect"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkGunslinger" tooltip_key="buffMagazinePerkGunslingerTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkGunslinger"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttPerception"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkShotgunMessiah" tooltip_key="buffMagazinePerkShotgunMessiahTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkShotgunMessiah"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttPerception"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkAutomaticWeapons" tooltip_key="buffMagazinePerkAutomaticWeaponsTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkAutomaticWeapons"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttPerception"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkDeadEye" tooltip_key="buffMagazinePerkDeadEyeTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkDeadEye"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttPerception"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkArchery" tooltip_key="buffMagazinePerkArcheryTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkArchery"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttPerception"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkExplosiveWeapons" tooltip_key="buffMagazinePerkExplosiveWeaponsTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkExplosiveWeapons"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttPerception"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkHeadshot" tooltip_key="buffMagazinePerkHeadshotTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkHeadshot"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttPerception"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkRunAndGun" tooltip_key="buffMagazinePerkRunAndGunTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkRunAndGun"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttPerception"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkLuckyLooter" tooltip_key="buffMagazinePerkLuckyLooterTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkLuckyLooter"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttPerception"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkSalvageOperations" tooltip_key="buffMagazinePerkSalvageOperationsTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkSalvageOperations"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttPerception"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkSexualTrex" tooltip_key="buffMagazinePerkSexualTrexTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkSexualTrex"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttStrength"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkFlurryOfBlows" tooltip_key="buffMagazinePerkFlurryOfBlowsTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkFlurryOfBlows"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttStrength"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkDeepCuts" tooltip_key="buffMagazinePerkDeepCutsTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkDeepCuts"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttStrength"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkStayDown" tooltip_key="buffMagazinePerkStayDownTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkStayDown"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttStrength"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkHeavyMetal" tooltip_key="buffMagazinePerkHeavyMetalTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkHeavyMetal"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttStrength"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkSkullCrusher" tooltip_key="buffMagazinePerkSkullCrusherTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkSkullCrusher"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttStrength"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkMiner69r" tooltip_key="buffMagazinePerkMiner69rTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMiner69r"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttStrength"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkPackMule" tooltip_key="buffMagazinePerkPackMuleTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkPackMule"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttStrength"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkMotherLode" tooltip_key="buffMagazinePerkMotherLodeTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMotherLode"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttStrength"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkHeavyArmor" tooltip_key="buffMagazinePerkHeavyArmorTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkHeavyArmor"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttFortitude"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkTheHuntsman" tooltip_key="buffMagazinePerkTheHuntsmanTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkTheHuntsman"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttFortitude"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkIntrinsicImmunity" tooltip_key="buffMagazinePerkIntrinsicImmunityTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkIntrinsicImmunity"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttFortitude"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkWellInsulated" tooltip_key="buffMagazinePerkWellInsulatedTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkWellInsulated"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttFortitude"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkLivingOffTheLand" tooltip_key="buffMagazinePerkLivingOffTheLandTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkLivingOffTheLand"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttFortitude"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkPainTolerance" tooltip_key="buffMagazinePerkPainToleranceTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkPainTolerance"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttFortitude"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkHealingFactor" tooltip_key="buffMagazinePerkHealingFactorTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkHealingFactor"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttFortitude"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkSlowMetabolism" tooltip_key="buffMagazinePerkSlowMetabolismTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkSlowMetabolism"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttFortitude"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkSelfMedicated" tooltip_key="buffMagazinePerkSelfMedicatedTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkSelfMedicated"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttFortitude"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkRuleOneCardio" tooltip_key="buffMagazinePerkRuleOneCardioTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkRuleOneCardio"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttAgility"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkLightArmor" tooltip_key="buffMagazinePerkLightArmorTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkLightArmor"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttAgility"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkChargingBull" tooltip_key="buffMagazinePerkChargingBullTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkChargingBull"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttAgility"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkParkour" tooltip_key="buffMagazinePerkParkourTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkParkour"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttAgility"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkOlympicSwimmer" tooltip_key="buffMagazinePerkOlympicSwimmerTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkOlympicSwimmer"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttAgility"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkNinjaMovement" tooltip_key="buffMagazinePerkNinjaMovementTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkNinjaMovement"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttAgility"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkHiddenStrike" tooltip_key="buffMagazinePerkHiddenStrikeTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkHiddenStrike"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttAgility"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkFromTheShadows" tooltip_key="buffMagazinePerkFromTheShadowsTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkFromTheShadows"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttAgility"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkBetterBarter" tooltip_key="buffMagazinePerkBetterBarterTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="PerkBetterBarter"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttIntellect"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkDaringAdventurer" tooltip_key="buffMagazinePerkDaringAdventurerTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkDaringAdventurer"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttIntellect"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkCharismaticNature" tooltip_key="buffMagazinePerkCharismaticNatureTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkCharismaticNature"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttIntellect"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkHammerForge" tooltip_key="buffMagazinePerkHammerForgeTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkHammerForge"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttIntellect"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkGreaseMonkey" tooltip_key="buffMagazinePerkGreaseMonkeyTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkGreaseMonkey"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttIntellect"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkAdvancedEngineering" tooltip_key="buffMagazinePerkAdvancedEngineeringTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkAdvancedEngineering"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttIntellect"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkYeahScience" tooltip_key="buffMagazinePerkYeahScienceTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkYeahScience"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttIntellect"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkPhysician" tooltip_key="buffMagazinePerkPhysicianTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkPhysician"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttIntellect"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>

	<buff name="buffMagazinePerkMasterChef" tooltip_key="buffMagazinePerkMasterChefTooltip" hidden="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="1800"/>
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMasterChef"/>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffMagazineAttIntellect"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="self" buff="buffPerkAbilityUpdate"/>
		</effect_group>
	</buff>



<!-- ****************** Player Action Buffs / Procs ****************** -->

	<buff name="buffPowerAttackStaminaStunt" icon="ui_game_symbol_run" icon_color="255,128,0" hidden="true">
		<stack_type value="replace"/>
		<duration value="3"/>
		<effect_group>
			<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="1"/>
			<passive_effect name="StaminaChangeOT" operation="perc_add" value="1" tags="running"/>
		</effect_group>
	</buff>

	<buff name="buffHoldBreathAiming1" name_key="Aiming1" description_key="" tooltip_key="" icon="ui_game_symbol_all_blocks" hidden="true">
		<stack_type value="replace"/>
		<duration value="0"/>
		<effect_group>
			<triggered_effect trigger="onSelfDied" action="RemoveBuff" target="self" buff="buffHoldBreathAiming1"/>
			<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" target="self" buff="buffHoldBreathAiming1"/>
			<triggered_effect trigger="onSelfAimingGunStop" action="RemoveBuff" target="self" buff="buffHoldBreathAiming1"/>
			<triggered_effect trigger="onSelfEquipStart" action="RemoveBuff" target="self" buff="buffHoldBreathAiming1"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffHoldBreathAiming1">
				<requirement name="HoldingItemHasTags" tags="holdBreathAiming" invert="true"/>
			</triggered_effect>

			<!--
			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="open_vending"/>
			<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" target="self" sound="close_vending"/>
			-->

			<passive_effect name="StaminaChangeOT" operation="perc_add" duration="0,1" value="-.9,-1.4"/>
			<passive_effect name="StaminaChangeOT" operation="perc_add" duration="1,9999" value="-1.4,-1.4"/>

			<passive_effect name="WeaponHandling" operation="perc_add" value="-.45"/>
		</effect_group>

		<effect_group>
			<requirement name="HoldingItemHasTags" tags="perkDeadEye"/>

			<passive_effect name="StaminaChangeOT" operation="perc_add" value=".1">
				<requirement name="ProgressionLevel" progression_name="perkDeadEye" operation="GTE" value="3"/>
			</passive_effect>
			<passive_effect name="StaminaChangeOT" operation="perc_add" value=".2">
				<requirement name="ProgressionLevel" progression_name="perkDeadEye" operation="GTE" value="4"/>
			</passive_effect>
			<passive_effect name="StaminaChangeOT" operation="perc_add" value=".3">
				<requirement name="ProgressionLevel" progression_name="perkDeadEye" operation="GTE" value="5"/>
			</passive_effect>
		</effect_group>
	</buff>

	<buff name="buffDrawBow1" name_key="buffDrawBow1" icon="ui_game_symbol_all_blocks" hidden="true">
		<stack_type value="replace"/>
		<duration value="0"/>
		<effect_group>
			<triggered_effect trigger="onSelfDied" action="RemoveBuff" target="self" buff="buffDrawBow1"/>
			<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" target="self" buff="buffDrawBow1"/>
			<triggered_effect trigger="onSelfPrimaryActionEnd" action="RemoveBuff" target="self" buff="buffDrawBow1"/>
			<triggered_effect trigger="onSelfEquipStart" action="RemoveBuff" target="self" buff="buffDrawBow1"/>
			<!--
			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="open_vending"/>
			<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" target="self" sound="close_vending"/>
			-->

			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffDrawBow1">
				<requirement name="HoldingItemHasTags" tags="bowDrawPenalty" invert="true"/>
			</triggered_effect>

			<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="1.4"/>
		</effect_group>

		<!-- <effect_group>
			<requirement name="HoldingItemHasTags" tags="perkArchery"/>

			<passive_effect name="StaminaChangeOT" operation="perc_add" value=".1">
				<requirement name="ProgressionLevel" progression_name="perkArchery" operation="GTE" value="3"/>
			</passive_effect>
			<passive_effect name="StaminaChangeOT" operation="perc_add" value=".2">
				<requirement name="ProgressionLevel" progression_name="perkArchery" operation="GTE" value="4"/>
			</passive_effect>
			<passive_effect name="StaminaChangeOT" operation="perc_add" value=".3">
				<requirement name="ProgressionLevel" progression_name="perkArchery" operation="GTE" value="5"/>
			</passive_effect>
		</effect_group> -->
	</buff>

	<buff name="buffReloadMovementPenalty" name_key="Reloading" icon="ui_game_symbol_pack_mule" icon_color="255,128,0" hidden="true">>
		<stack_type value="ignore"/>
		<damage_type value="stun"/>
		<duration value="7"/>
		<effect_group>
			<triggered_effect trigger="onReloadStop" action="RemoveBuff" buff="buffReloadMovementPenalty"/>
		</effect_group>

		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkRunAndGun" operation="Equals" value="0"/>
				<passive_effect name="WalkSpeed" operation="perc_subtract" value=".5"/>
				<passive_effect name="RunSpeed" operation="perc_subtract" value=".5"/>
				<passive_effect name="JumpStrength" operation="perc_subtract" value=".5"/>
		</effect_group>
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkRunAndGun" operation="Equals" value="1"/>
				<passive_effect name="WalkSpeed" operation="perc_subtract" value=".4"/>
				<passive_effect name="RunSpeed" operation="perc_subtract" value=".4"/>
				<passive_effect name="JumpStrength" operation="perc_subtract" value=".4"/>
		</effect_group>
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkRunAndGun" operation="Equals" value="2"/>
				<passive_effect name="WalkSpeed" operation="perc_subtract" value=".3"/>
				<passive_effect name="RunSpeed" operation="perc_subtract" value=".3"/>
				<passive_effect name="JumpStrength" operation="perc_subtract" value=".3"/>
		</effect_group>
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkRunAndGun" operation="Equals" value="3"/>
				<passive_effect name="WalkSpeed" operation="perc_subtract" value=".2"/>
				<passive_effect name="RunSpeed" operation="perc_subtract" value=".2"/>
				<passive_effect name="JumpStrength" operation="perc_subtract" value=".2"/>
		</effect_group>
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkRunAndGun" operation="Equals" value="4"/>
				<passive_effect name="WalkSpeed" operation="perc_subtract" value=".1"/>
				<passive_effect name="RunSpeed" operation="perc_subtract" value=".1"/>
				<passive_effect name="JumpStrength" operation="perc_subtract" value=".1"/>
		</effect_group>
	</buff>

	<buff name="buffLegendaryBoss" name_key="Legendary Boss Buff Name" description_key="legendaryDesc" tooltip_key="na" icon="ui_game_symbol_skull">
		<stack_type value="replace"/>
		<duration value="0"/>
		<effect_group>
			<passive_effect name="HealthMax" operation="perc_set" value="3" />
			<passive_effect name="EntityDamage" operation="perc_set" value="3" />
		</effect_group>
	</buff>

	<buff name="buffTazasWrath" name_key="buffTazasWrathName" description_key="buffTazasWrathDesc" tooltip_key="buffTazasWrathTooltip" icon="ui_game_symbol_skull">
		<stack_type value="replace"/>
		<duration value="1"/>
		<update_rate value=".5"/>
		<effect_group>
			<!--
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="$VarTest" operation="setvalue" value="randomfloat(12,13)"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" target="self" cvar="$VarTest"/>
			-->
			<passive_effect name="EntityDamage" operation="perc_add" value="1" tags="melee,tazas"/>

			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="open_apache_artifact_chest"/>
		</effect_group>
	</buff>

	<buff name="buffRingOfFire" name_key="buffRingOfFireName" description_key="buffRingOfFireDesc"
		icon="ui_game_symbol_fire" icon_color="200,200,0" icon_blink="true" remove_on_death="false">
		<stack_type value="replace"/>
		<duration value="0"/>
		<update_rate value=".7"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="10" buff="buffRingOfFireEffect"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="otherAOE" range="10" buff="buffRingOfFireEffect"/>

			<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="FireMediumLoop" play_in_head="true"/>
			<triggered_effect trigger="onSelfBuffStart" action="FadeOutSound" target="self" sound="FireMediumLoop" play_in_head="true"/>
			<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" target="self" sound="forge_fire_die" play_in_head="true"/>
		</effect_group>
	</buff>
	<buff name="buffRingOfFireEffect" name_key="buffRingOfFireEffectName" description_key="buffRingOfFireEffectDesc" tooltip_key="buffRingOfFireEffectDesc"
		icon="ui_game_symbol_fire" icon_color="255,0,0" icon_blink="true">
		<damage_type value="heat"/>
		<stack_type value="ignore"/>
		<duration value="10"/>
		<update_rate value="1.2"/>
		<effect_group>
			<passive_effect name="HealthChangeOT" operation="base_subtract" duration="0,10" value="0,500"/>

			<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_onFire"/>
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_onFire"/>
			<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_onFire" />
		</effect_group>
	</buff>

	<buff name="buffDontBreakMyLeg" hidden="true" remove_on_death="false">
	<stack_type value="replace"/><duration value="0"/></buff>

	<buff name="buffRadiatedRegen" name_key="buffRadiatedRegenDesc" description_key="buffRadiatedRegenDesc" tooltip_key="buffRadiatedRegenDesc" icon="ui_game_symbol_radiation" icon_color="255,0,0">
		<stack_type value="ignore"/>
		<duration value="2000000000"/>
		<update_rate value="2.5"/>

		<effect_group>
			<requirement name="NotHasBuff" buff="buffRadiatedRegenBlock"/>
				<passive_effect name="HealthChangeOT" operation="base_add" value="@RadiatedRegenAmount"/>
		</effect_group>

		<effect_group>
			<!--
			<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="RadiatedParticlesOnMesh" local_offset="0,0.75,0"/>

			<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="RadiatedParticlesOnMesh" />
			<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="RadiatedParticlesOnMesh" />
			-->

			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffRadiatedRegen">
				<requirement name="StatComparePercCurrentToMax" stat="health" operation="GTE" value=".8"/>
			</triggered_effect>

			<!--
			entityclasses.xml has
				<property name="ParticleOnSpawn" value="ParticleEffects/RadiatedParticlesOnMesh" param1="SetShapeToMesh0"/>

			That is what I would need as an argument for
			AttachParticleEffectToEntity

			<triggered_effect trigger="onSelfBuffUpdate" action="AttachParticleEffectToEntity" particle="RadiatedParticlesOnMesh" local_offset="0,0.75,0"/>
					AttachParticleEffectToEntity		target, particle, parent_transform, local_offset, local_rotation
			-->
		</effect_group>
	</buff>

	<buff name="buffRadiatedRegenBlock" name_key="buffRadiatedRegenBlockName"  icon="ui_game_symbol_radiation" icon_color="255,255,0" hidden="true">
		<stack_type value="replace"/>
		<duration value="90"/>
	</buff>

	<buff name="buffCampfireAOE" hidden="true">
		<stack_type value="ignore"/>
		<duration value="1"/>
		<effect_group>
			<passive_effect name="HypothermalResist" operation="base_add" value="15"/>
			<passive_effect name="HyperthermalResist" operation="base_add" value="-15"/>
		</effect_group>
	</buff>

	<buff name="buffInternalBleeding"  name_key="buffInternalBleedingName" description_key="buffInternalBleedingDesc" tooltip_key="buffInternalBleedingTooltip" icon="ui_game_symbol_critical" icon_color="255,0,0" icon_blink="true">
		<damage_type value="bloodloss"/>
		<stack_type value="ignore"/>
		<duration value="60"/>

		<effect_group>
			<passive_effect name="HealthChangeOT" operation="base_subtract" value="1,5,200" duration="0,3,60"/>
			<triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffInternalBleeding"/>
		</effect_group>
	</buff>

	<buff name="buffImpactBracing" hidden="true"> <stack_type value="ignore"/> <duration value="0"/> </buff>


<!-- ****************** Deprecated Buffs? (Needs review) ****************** -->

	<buff name="buffShotgunWound1" name_key="buffShotgunWound1Name" description_key="buffShotgunWound1Desc" icon="ui_game_symbol_critical">
	</buff>

	<buff name="buffBurningSmall">
	</buff>

	<buff name="buffArrowCriticalBleedout">
	</buff>

	<buff name="buffDrugRedPill">
	</buff>

	<buff name="buffDrugBluePill">
	</buff>

	<buff name="buffYuccaJuiceCooling">
	</buff>

	<buff name="buffExtinguishFireBuff">
	</buff>

	<buff name="buffEatSnowberryTrigger">
	</buff>




	<buff name="reqtest">
		<duration value="0"/>
		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="- - - - - - - - - - - - - - - - - - - - - -"/>

			<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="Dysentery present">
				<requirement name="HasBuff" buff="buffIllDysentery0"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="Dysentery NOT present">
				<requirement name="NotHasBuff" buff="buffIllDysentery0"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="FoodP present">
				<requirement name="HasBuff" buff="buffIllFoodPoisoning0"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="FoodP NOT present">
				<requirement name="NotHasBuff" buff="buffIllFoodPoisoning0"/>
			</triggered_effect>
		</effect_group>

		<effect_group>
			<requirements compare_type="or">
				<requirement name="HasBuff" buff="buffIllDysentery0"/>
				<requirement name="HasBuff" buff="buffIllFoodPoisoning0"/>
			</requirements>
			<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="ReqGroup: One or both of them present"/>
		</effect_group>

		<effect_group>
			<requirements>
				<requirement name="HasBuff" buff="buffIllDysentery0"/>
				<requirement name="HasBuff" buff="buffIllFoodPoisoning0"/>
			</requirements>
			<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="ReqGroup: Both buffs present"/>
		</effect_group>

		<effect_group>
			<requirement name="NotHasBuff" buff="buffIllDysentery0"/>
			<requirement name="NotHasBuff" buff="buffIllFoodPoisoning0"/>

			<requirements compare_type="or">
				<requirement name="HasBuff" buff="buffIllDysentery0"/>
				<requirement name="HasBuff" buff="buffIllFoodPoisoning0"/>
			</requirements>

			<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="Combined test 1: Has none of the buffs AND has either buff."/>
		</effect_group>

		<effect_group>
			<requirements>
				<requirement name="NotHasBuff" buff="buffIllDysentery0"/>
				<requirement name="NotHasBuff" buff="buffIllFoodPoisoning0"/>
			</requirements>

			<requirements compare_type="or">
				<requirement name="HasBuff" buff="buffIllDysentery0"/>
				<requirement name="HasBuff" buff="buffIllFoodPoisoning0"/>
			</requirements>

			<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="Combined test 2: Has none of the buffs AND has either buff."/>
		</effect_group>
	</buff>


</buffs>



<!--  = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
D:\7DTD_Project\trunk\Assets\Scripts\Engine\XmlParsers\BuffsFromXml.cs

<buff> node

name :				internal name for referencing this buff
name_key / description_key / tooltip_key :	Localisation
icon [file name] :		available .tga in \Assets\GUI\Textures\ e.g. "ui_game_symbol_brokenbone"
icon_color : 			The tint colour of the icon. If this is "255,0,0" the icon will be blinking.
hidden [bool] :

warning_color [?] :		??? is this a tooltip text? Boolean?
alert_color [?] :
emergency_color [?] :

= = = = = = = = = = = = = = = = = = = = = = = = = = = = =
<buff> child nodes. (outside of the <buff> tag)

<damage_source value="x"/> [Internal,External]  External damage will be integers and affected by armor, Internal is the default for buffs

<damage_type value="x"/> [fallingBlock,starve,dehydrate,fall,radiation,radiationSickness,disease,suffocating] : ???
					[bashing, ?] :     Not "BashingDamage" ???

<stack_type value="x"/> [duration,effect,replace,ignore] :  duration: append the duration, effect: stack up the effect, replace: reset the duration, ignore: 2nd buff bounces

<duration value="x"/>  (Float) : Duration in RT seconds. 0 means infinite. 214748364s is the max duration.

<update_rate value="x"/> (ushort at 20 ticks/s) Default = 1 update /s. 3275s is the max  update_rate.
					The time time step of this buff. How frequently  onSelfBuffUpdate  is run.
					If the buff does not contain a  onSelfBuffUpdate  trigger then this is irrelevant. No updates are running.

<requirements compare_type="or">  (AND is the default for all requirements)
	<requirement name="CVarCompare" target="self" cvar="holdBreathTest" operation="Equals" value="0"/>
	This prevents the entire buff from firing.
</requirements>

<effect_group>
	<requirement name="CVarCompare" target="self" cvar="holdBreathTest" operation="Equals" value="2"/>
	This effect group of the buff is invalid if the condition is false.
	Any passive_effect or triggered_effect go into an effect group.
</effect_group>

<effect_group>
	This 2nd effect group of this buff is always active.
	<triggered_effect trigger="onSelfPrimaryAction" action="ModifyStats" target="self" stat="health" operation="base_add" value="2" compare_type="or">
		<requirement name="StatCompare" target="other" stat="health" operation="gt" value="20"/>
		buuuut this specific effect has it's own condition.
	</triggered_effect>


	Specific timing on individual PASSIVE effects:
	<passive_effect name="SpreadMultiplierAiming" operation="perc_set" value="0.8" duration="2.2,3.5"/>
		This one passive effect kicks in at 2.2s into the buff and shuts down at 3.5s.


	<passive_effect name="SpreadMultiplierAiming" operation="perc_set" value="0.8,0.15" duration="1.2,8"/>
		This one PASSIVE effect kicks in at  1.2s with a multiplier of 0.8.
		For the next 6.8s it lerps the multiplier to 0.15.
		After 6.8s it shuts off.
</effect_group>

</buff>


= = = = = = = = = = = = = = = = = = = = = = = = = = = = =
<effect_group name="Franz" tiered="false"/> node

name : Technically irrelevant but can immensly help readability
tiered (Bool) : On ITEMS this is an untiered, always-on effect.
			If default / true, the item has a tier and is not stackable.


= = = = = = = = = = = = = = = = = = = = = = = = = = = = =

OPERATIONS AND CVARS, game variables

cvar : custom variable name. Use whatever you want.
operation [set,setvalue,add,subtract,multiply,divide,randomfloat,randomint] :
	value="randomfloat(1,10)" /  value="randomint(1,10)"
	- randomfloat,randomint  are currently broken. Need special handling for values.
value (Float,@cvar,#gameVariable) : Leading with @/# will parse the value of an existing cvar or game variable instead of a number.


Read only cvars start with an underscore:

_degreesabsorbed : amount of degrees absorbed by armor; always positive; the deviation from 70F
_coretemp			: difference from 70 degrees F
_sheltered		: 0-1 value of how enclosed the area you are in is
_shaded			: similar to sheltered but only checks above
_wetness			: total wetness from rain and standing in water 1 = 100% wet.
_underwater		:
_difficulty		: game difficulty setting
_biomeradiation	:
_encumberedslots	:
_encumbrance		:
_fallSpeed		:
_crouching		:

Cvars that start with "$" are NOT networked.
You can use them locally and for math operations but they can not be accessed between different entities.

= = = = = = = = = = = = = = = = = = = = = = = = = = = = =

USING CUSTOM VARIABLES AND GAME VARIABLES

A custom variable (float) is declared on the target entity whenever you use one.
<triggered_effect trigger="onSelfAimingGunStop" action="ModifyCVar" target="self" cvar="iAmYourNewCVar" operation="set" value="5"/>

When USING a custom variable INSTEAD OF a fixed value you reference it with an "@" instead of a numeric value.
	<passive_effect name="JumpStrength" operation="perc_set" value="@iAmYourNewCVar" />
	<requirement name="StatCompare" target="self" stat="stamina" operation="GTE" value="@iAmYourNewCVar"/>


GAME VARIABLES are constants (read-only)

A game variable (whatever data type it is) can be USED in requirements / values.
	<passive_effect name="JumpStrength" operation="perc_set" value="#GameTime" />
	<requirement name="StatCompare" target="self" stat="stamina" operation="GTE" value="#GameTime"/>


= = = = = = = = = = = = = = = = = = = = = = = = = = = = =

REQUIREMENTS / CONDITIONS:

	TARGET supports [self, other]
	target="self" is the default and can be overridden with target="other" if you want to check on the target of (an attack?)
	For event triggers like being attacked, "other" is your attacker.

		RandomRoll: 			target, min_max, operation, value, seed_type, seed_additive
				seed_type:		Item, Player, Random
								Random is the default in most cases. A simple random number.
								Player is the static seed of this player on this map. You can create random "genetic" effects that permanently remain with this player.
								Item uses a seed that is generated based on creation time of the item. (so yes, that could detect dupes with some certainty, you're welcome)

		CVarCompare: 			target, cvar, operation, value
		HasBuff: 				target, buff
		NotHasBuff: 			target, buff
		IsMale				target
		EntityTagCompare: 		tags (list of tags); has_all_tags(bool); target  //		This matches entityclasses.xml <property name="Tags" value="entity,player"/>
		RequirementItemTier: 	target, tier, operation, value
		ProgressionLevel     	target, progression_name="attStrength" (or a perk name, whatever), operation, value
		PlayerLevel			target, operation, value
		CompareLightLevel
		HoldingItemHasTags		tags (string), has_all_tags(bool);  does not check for the tags of a mod that is installed in the item
		IsItemActive			(?) For activated items. Use only on the item/mod in question or the scope gets messy.
		IsLookingAtBlock		tags, has_all_tags
		IsLookingAtEntity		tags, has_all_tags
		IsStatAtMax			stat (Health,MaxStamina,Stamina,Water);  detects if a stat is within 0.1f UNITS of max, not %.


		For stat comparisons Health/Stamina are a bit twisted.
		You have Max which is the absolute ceiling value that your health can possibly reach.
		Then you have ModMax which is the "middle ceiling" that is lowered by serious injuries.
		Then you have Current which is the hit points you actualy have remaining. You lose all of those, you die.

		So Current HP can increase up to ModMax HP.
		If you want Current HP to increase up to Max HP you need to increase ModMax HP to Max HP first.
		0 <-> Current HP <-> ModMax HP <-> Max HP
		Armed with that knowledge the stat comparisons are slightly less confusing:

		StatCompareCurrent  	target, stat(health,stamina, water), operation, value
		StatCompareMax
		StatCompareModMax
		StatComparePercCurrentToMax
		StatComparePercCurrentToModMax
		StatComparePercModMaxToMax

				<requirement name="StatComparePercCurrentToMax" stat="health" operation="LTE" value=".8"/>


		StatCompare: 			target, stat, operation, value    (deprecated?)
		StatComparePercent: 	target, stat, operation, value    (deprecated?)

		Stat / cvar comparison operators:
				None,
				Equals,
				NotEquals,
				Less, LessThan, LT,
				Greater, GreaterThan, GT,
				LessOrEqual, LessThanOrEqualTo, LTE,
				GreaterOrEqual, GreaterThanOrEqualTo, GTE


= = = = = = = = = = = = = = = = = = = = = = = = = = = = =

REQUIREMENTS / CONDITIONS / TAGS :

Tags can be used to limit passive effects to certain (hit) locations, states, or stances.

	Movement/stance:
	crouching, standing, idle, walking, running, swimming, floating, jumping, falling, climbing
		<passive_effect name="JumpStrength" operation="base_set" value="0.13"/>
		<passive_effect name="JumpStrength" operation="base_set" value="0.15" tags="running"/>

	Hit location:
		head,upperbody,lowerbody

	Item tags:
		With passives you can not simply check the tags of the weapon you are using.
		<passive_effect name="RoundsPerMinute" tags="perkGunslinger" operation="perc_add" value="2,2" level="1,5"/>
		does not work.

		Instead you need to use
		<requirement name="HoldingItemHasTags" tags="perkGunslinger"/>
		<passive_effect name="RoundsPerMinute" operation="perc_add" value="2,2" level="1,5"/>


= = = = = = = = = = = = = = = = = = = = = = = = = = = = =

ACTIVE / TRIGGERED EFFECTS     (do not confuse with passive effects!)

<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" [other parameters depending on the action] />

Triggered effects are atomic operations that instantly change a value, start a buff, start a sound.
They do stuff but the trigger itself has NO inherent duration.


	Triggered effects can check TARGET TAGS but use a different notation:

	target_tags="walker,head"

	There are 3 special tags:   ally, party, enemy
	These let you filter an effect to a group of these like with an AOE effect.

	target_tags
	- DO NOT have a  match_all_tags
	- DO NOT allow to filter for hit locations

= = = = = = = = = = = = = = = = = = = = = = = = = = = = =

MinEvents / Triggers

	onSelfBuffStart = 0
	onSelfBuffUpdate,  Frame-based, not 1/s
	onSelfBuffFinish,  Runs when the duration of a buff has run out.
	onSelfBuffRemove,  When the buff is being removed by any source. Can not be used for a buff to restart itself.
	onSelfBuffStack    When the buff is refreshed/extended/stacked... anything but "ignore"

	onSelfProgressionUpdate;  runs all such events in progression 1x per second
	onPerkLevelChanged;  fires when you BUY a perk, not when it is temporarily increased or lowered; this is intended and how passives work

	onOtherDamagedSelf
	onOtherAttackedSelf		target="other" is the entity that last attacked you.
	onOtherHealedSelf

	onSelfDamagedOther
	onSelfAttackedOther
	onSelfHealedOther, //Hook Up

	onProjectileImpact; trigger for projectiles like arrows, molotovs, rockets

	onSelfDamagedSelf
	onSelfHealedSelf
	onSelfKilledOther

	onSelfDied
	onOtherKilledSelf
	onBlockKilledSelf
	onSelfKilledSelf

	onSelfPrimaryActionStart			works
	onSelfPrimaryActionRayHit		works
	onSelfPrimaryActionEnd
	onSelfPrimaryActionUpdate		fires constantly
	onSelfPrimaryActionAttackFinished  n/a?

	onSelfSecondaryActionStart		works
	onSelfSecondaryActionRayHit		works
	onSelfSecondaryActionEnd
	onSelfSecondaryActionUpdate		fires constantly
	onSelfSecondaryActionAttackFinished  n/a?

	onSelfRepairBlock
	onSelfPlaceBlock
	onSelfUpgradedBlock
	onSelfDamagedBlock
	onSelfDestroyedBlock
	onSelfHarvestBlock
	onSelfHarvestOther

	onOtherEnteredRange, //Hook Up
	onOtherLeftRange, //Hook Up

	onSelfEquipStart ; can only work on an item/mod
	onSelfEquipStop
	onSelfItemActivate ; can only work on an item/mod
	onSelfItemDeactivate

	onReloadStart
	onReloadUpdate
	onReloadStop   ?

	onSelfFirstSpawn
	onSelfRespawn
	onSelfLeaveGame
	onSelfEnteredGame
	onSelfTeleported

	onSelfJump
	onSelfLandJump
	onSelfRun
	onSelfWalk,		//triggers once on starting to walk
	onSelfCrouch
	onSelfStand
	onSelfAimingGunStart
	onSelfAimingGunStop
	onSelfCrouchRun
	onSelfCrouchWalk
	onSelfSwimStart
	onSelfSwimStop
	onSelfSwimRun
	onSelfSwimIdle

	onSelfHoldingItemCreated    ;when you equip a belt item in the active slot?
	onSelfItemCrafted, //Hook Up
	onSelfItemRepaired, //Hook Up
	onSelfItemLooted, //Hook Up
	onSelfItemLost, //Hook Up
	onSelfItemGained, //Hook Up
	onSelfItemSold, //Hook Up
	onSelfItemBought, //Hook Up

	//onSelfDiscoveredPOI, //Hook Up
	//onSelfDiscoveredArea, //Hook Up

	//onSelfEnteredPOI, //Hook Up
	//onSelfExitedPOI, //Hook Up

	//onSelfEnteredArea, //Hook Up
	//onSelfExitedArea, //Hook Up

	onSelfEnteredBiome

	onSelfLootContainer
	onSelfOpenLootContainer

	//onQuestStart, //Hook Up
	//onQuestLocationReached, //Hook Up
	//onQuestLocationLeft, //Hook Up
	//onQuestCompleted, //Hook Up
	//onQuestFailed, //Hook Up

	//onGameBloodmoonStart, //Hook Up
	//onGameBloodmoonEnd, //Hook Up
	//onGameDayStart, //Hook Up
	//onGameNightStart, //Hook Up
	//onGameRainStart, //Hook Up
	//onGameRainEnd, //Hook Up
	//onGameSnowStart, //Hook Up
	//onGameSnowEnd, //Hook Up
	//onGameFogStart, //Hook Up
	//onGameFogEnd, //Hook Up

= = = = = = = = = = = = = = = = = = = = = = = = = = = = =

ACTIVE / TRIGGERED EFFECTS: ACTIONS

	TARGET parameter for <triggered_effect/> supports [self, other, selfAOE, otherAOE, positionAOE]
		AOE only if the specific action supports it. If an AOE event has a requirement, this req will be checked
		for all targets and only those who meet all req will be valid targets.

	Depending on what TARGET or TRIGGER is used, it may require a range parameter:
	range="x"

	AnimatorSetFloat:		target, property, value
	AnimatorSetInt:		target, property, value ; change the animation / walk type
	AnimatorSetBool:		target, property, value
	AddBuff:				target, buff
	RemoveBuff:			target, buff
	ModifyCVar:			target, cvar, operation[set,add,subtract,multiply,divide,randomfloat,randomint], value
							value="low,high"  for randomfloat/randomint.
						Perform a basic math operation of   "cvar" "operation" "value"
						and write the result back to  "cvar"
	CVarLogValue:			target, cvar   (print a debug message to the console)
	LogMessage:			message
	ModifyScreenEffect:		target, effect_name, intensity, fade;   intensity=0 disables it
						Shaders are in \Assets\Resources\ScreenEffects\Shaders
	PlaySound:			target, sound, play_in_head;   sound references not a file name but a sound name from sounds.xml
	StopSound:			target, sound, play_in_head
	FadeOutSound:			target, sound
	ModifyStat:			deprecated  (does not support value_type)
	ModifyStats:			target, stat[health,stamina,water,coretemp],
						value_type [max,modifiedmax],
						operation[set,setvalue,add,subtract,multiply,divide,randomfloat ?,randomint ?], value,

							Note that the operators are DIFFERENT from the ones on passive effects.
						Perform a basic math operation of   "stat" "operation" "value"
						and write the result back to  "stat"
	Ragdoll:				target, duration
	ShowToolbeltMessage		target?, message="blahblub" | message_key="localizationKey"
	AttachParticleEffectToEntity		target, particle, parent_transform, local_offset, local_rotation
	RemoveParticleEffectFromEntity	target, particle


= = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

PASSIVE EFFECTS

	Every passive effect essentially IS a number. It reflects a CURRENT STATE of an entity, like it's maximum carrying capacity or the upwards recoil of a gun.

	All applied changes are permanent... until the next update runs the entire Order Of Operation (OOO) and determines a NEW current value for the effect in question.

	Worn items apply their effects while being worn.
	Hand items (tools) apply their effects while being held, being in the active hotbar slot.
	Buffs apply their effects while being active.
	All of these effects can fully or partially depend on conditions so if you have a special regen buff it would
		keep going... but it's healing effect could temporarily drop out WHILE you ALSO have a "burning" buff on you.

	Modifying numbers is all this system does. If you want a buff started - you're in the wrong place.
	If you want to change how much stamina each jump uses - that's what we do here.

	target="self" is implied with all passive effects.
	You cannot apply an effect to target="other" because it would not have a duration and be overridden on the next update.
	A buff can be applied to another entity, of course. That buff is then a part of this entity's OOO and the effects are applied.



SPECIAL CASES

	ITEMS

		Items can have tiers.

		<passive_effect name="RunSpeed" operation="perc_add" value="5" tier="1"/>
		<passive_effect name="RunSpeed" operation="perc_add" value="10,50" tier="2,6"/>
		The tier parameter limits an effect to a specific tier or range of tiers.
		Both of the above can be part of the same item.


	PROGRESSION  (attibutes,skills,perks)

		Stuff has a "level" here. You can limit a certain effect... see above.

		<passive_effect name="RunSpeed" operation="perc_add" value="5" level="1"/>
		<passive_effect name="RunSpeed" operation="perc_add" value="10,50" level="2,6"/>


	BUFFS

		You have probably figured out that buffs have a duration.
		The default case is that all included effects are "on" while the buff is.

		This would be way too simple so let's have some fun and model effect CURVES!

		duration  is an optional parameter of passive effects.
		A buff's duration value 0 is when the buff is started.

		<passive_effect name="SpreadMultiplierAiming" operation="perc_add" duration="2,4,8.5" value="0,-20,-85"/>
		This effect does nothing for the first 2 seconds of the buff.
		Between 2s and 4s of buff time it moves  SpreadMultiplierAiming from normal to -20%.
		Between 4s and 8.5s of buff time it moves  SpreadMultiplierAiming from -20% to -85%.
		After 8.5s there is no effect.

		<passive_effect name="SpreadMultiplierAiming" operation="perc_add" duration="8.50001,600" value="-85"/>
		This effect kicks in at 8.50001s and always applies the same effect.
		(you would roll that into the previous effect curve - this here is just a demonstration)


	RANDOM LERP
		But wait! There's more!
		If any ITEMS/PROGRESSION/BUFFS passive effect has NO tier/level/duration but DOES have TWO values

		as in value="3,10" then this will be considered a random range.


	Gossip:
		Internally, tier|level|duration is the same value. It's meaning is derived from the context so a skill would work like an item if... but let's keep our sanity for now.


= = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

PASSIVE EFFECTS : OPERATIONS

	Passive effects always have an operation.
	You DO remember that changing numbers is all they do? So they must have an operation.

	Note that these are not "operators" but rather more complex operations performed over the course of the OOO.
	These operations are completely different from the simpler  ModifyCVar / ModifyStats  operations.

	<passive_effect name="RunSpeed" operation="base_set|base_add|base_subtractperc_set|perc_add|perc_subtract" value="5"/>

	OPERATION:
	base_set:			SET the absolute (base) value of a stat, such as setting HealthMax to exactly 100.
					The smart thing to do would be to make sure you only ever have one such "base_set" because it's an unconditional overwrite.
					The base / default value is "1".
	base_add:			a value of 10 adds 10 points to the absolute value
	base_subtract:		(guess)

	perc_set:			set the % modifiers of an effect to a specific value. Likely not used very often because it overwrites a lot of what's going on.
	perc_add:			add this % mofifier to an effect
					A value of ".07" means +7%
					All percentage modifiers for an effect are cumulated and applied ONCE after all base value changes have been applied.
					See OOO. You will see this material again.
	perc_subtract:      (as above but not)


= = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

PASSIVE EFFECT TAGS

	Tags are a filter for which effects are APPLIED to an item or entity.


	<perk name="Pistols" parent="attPerception" name_key="perkPistols" desc_key="perkPistolsDesc" icon="ui_game_symbol_pistol">
		<passive_effect name="EntityDamage" operation="perc_add" level="0,10" value="0,100" tags="pistol"/>

	<item id="48" name="gunAK47">
		<property name="Tags" value="weapon,ranged,gun,rifle,barrelAttachments"/>

	<item id="42" name="gun44Magnum">
		<property name="Tags" tags="secondary,revolver"/>

	Here we have one perk, say at level 10 which means +100% damage when using things tagged with "pistol".

	In the OOO skills come after items.
	The perk now checks if ALL OF ITS TAGS are present in the tags of the item.
	With the magnum there is a "pistol" tag so that works. On the AK47 there is none so the effect (damage increase) does not apply.

	If the perk had  tags="pistol,longRange"  then the magnum would NOT qualify.
	All tags must be a match.
	Items can have additional tags that are relevant to other perks/buffs but each perk checks for ALL of it's tags being present on the item.


	If an effect has NO tags it will be applied to all items/attacks.
	Tags are for LIMITING an effect to very specific items so the default is "no limitation".


PRIMARY / SECONDARY ACTION TAGS

	The primary / secondary actions are hardcoded to add  "primary"  or  "secondary"  to an item's tags.

	So if I want a buff or skill to put an effect on the SECONDARY attack of all REVOLVERS, I would use
		<passive_effect name="EntityDamage" operation="perc_add" value="100" tags="secondary,revolver"/>


= = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

LIST OF PASSIVE PLAYER EFFECTS   (an arbitrary distinction; in the code it's merely a list of effects)

	Typical stats/effects of an entity. How high you jump, how fast you run, what your loot tier/ability is...
	These are (as I get around to it) declared in entityclasses.xml.
	Then they are ALTERED by buffs, perks, items and whatnot.


	EntityDamage
	EntityHeal, //Hook Up
	BlockDamage
	BlockRepairAmount, //Hook Up
	DamageModifier; used for headshot multiplier;  this multiplies damage by x, used for headshots or material differences. If you base_set it to a flat 100, entity damage will be 100 flat.
					This is a multiplier that is applied AFTER base damage and perc_add for an attack have been determined so it is a true exponential multiplier.
					base_add/perc_add work as usual here.  A "wood" bonus of 10 on the chainsaw +0.5 from a WoodSplitter mod = 10.5
	DegradationPerUse
	DegradationMax

	MagazineSize
	DamageFalloffRange
	MaxRange
	BlockRange

	WeaponHandling

	IncrementalSpreadMultiplier

	BurstRoundCount
	RoundRayCount
	RoundsPerMinute
	AttacksPerMinute

	ExplosionRadius

	ModSlots

	ModPowerBonus

	SpreadMultiplierHip
	SpreadMultiplierAiming
	SpreadMultiplierRunning
	SpreadMultiplierWalking
	SpreadMultiplierCrouching
	SpreadMultiplierIdle

	SpreadDegreesVertical
	SpreadDegreesHorizontal
	KickDegreesVertical
	KickDegreesHorizontal

	SphereCastRadius

	PhysicalDamageResist;  a value of 0-100; 100 meaning invulnerable,
						tags="coredamageresist" effects are calculated *after* the armor and degradation values.
						These are not affected by the armor skills tagged for items.
						You CAN become invulnerable if you screw up the balancing.
	ElementalDamageResist

	PhysicalDamageResistMax;		unused
	ElementalDamageResistMax;	unused

	Tier

	LightIntensity

	//All vehicles
	VehicleSpeedMax
	VehicleBoostedSpeedMax
	VehicleCarryCapacity
	VehicleEntityDamage
	VehicleBlockDamage
	VehicleReflectedDamage

	//Gas vehicles
	VehicleTankSize

	//Manual vehicles
	VehicleHopStrength
	VehiclePlayerStaminaDrainRate


	BatteryMaxLoadInVolts
	BatteryDischargeTimeInMinutes
	DistractionResistance
	DistractionRadius
	DistractionLifetime
	DistractionStrength
	DistractionEatTicks

	ProjectileVelocity
	RecipeTagUnlocked  		<passive_effect name="RecipeTagUnlocked" tags="ammo44MagnumBulletAP,ammoShotgunSlug"/>, or set a cvar named "ammo44MagnumBulletAP"

	EconomicValue
	#endregion

#region PLAYER EFFECTS
	AttributeLevel
	SkillLevel
	PerkLevel

	SkillExpGain
	PlayerExpGain

	NoiseMultiplier
	LightMultiplier

	CraftingTime
	CraftingTier
	CraftingOutputCount, //Hook Up
	ActiveCraftingSlots, //Hook Up
	CraftingSlots, //Hook Up

	CarryCapacity,  the number of slots "unlocked" in the inventory
	BagSize,   the max number of slots on the UI

	RepairTime, //Hook Up
	RepairAmount

	ReloadSpeedMultiplier,  higher value is faster

	WaterRegenRate,	multiplier for how fast stamina/health are regening

	HealthMax,	Total max hit points.
	HealthMaxModifierOT,   changing the portion of "damaged" health up or down every 1s
	HealthChangeOT,	Alter hit points by this much every 1second
	HealthGain,		when you gain health it's modified by this, generally for bonus healing or lowering heal amount
	HealthLoss,		whenever health is lost it's modified by this
	HealthLossMaxMult,	when hp is lost, this is the percent to apply to healthMax as well

	StaminaMax
	StaminaMaxModifierOT,	USE THIS ONE instead of FoodChangeOT;  changing the portion of "damaged" health up or down  every 1s
	StaminaChangeOT
	StaminaGain
	StaminaLoss
	StaminaLossMaxMult

	FoodMax,	food translates into the usable length of the stamina bar.
	FoodChangeOT
	FoodGain
	FoodLoss
	FoodLossPerHealthPointLost

	WaterMax,		water translates into how fast you can regen stamina / HP
	WaterChangeOT
	WaterGain
	WaterLoss
	WaterLossPerHealthPointGained
	WaterLossPerStaminaPointGained

	CoreTempChangeOT, //Hook Up
	CoreTempGain, //Hook Up
	CoreTempLoss, //Hook Up

	JumpStrength
	WalkSpeed
	RunSpeed
	CrouchSpeed
	Mobility

	ScavengingTime
	ScavengingTier
	ScavengingItemCount, //Hook Up
	HarvestCount;  this is a multiplier for harvest. Default= 0 !

	DismemberChance  ; decapitation, 0-1
	TreasureRadius
	BreathHoldDuration, //Hook Up
	Bartering
	SecretStash
	LootTier, //Hook Up
	HeatGain, //Hook Up

	QuestBonusItemReward
	QuestRewardOptionCount
	QuestRewardChoiceCount

	LootGamestage

	CriticalChance
	BuffProcChance
	BuffResistance;  at .4 on  "buffInjuryConcussion,buffBurning" you have a 40% chance for either buff to bounce instead of taking hold



= = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

LIST OF PASSIVE ITEM EFFECTS

	EntityDamage
	EntityHeal, //Hook Up
	BlockDamage
	BlockRepairAmount, //Hook Up

	SpreadMultiplierHip
	SpreadMultiplierAiming
	SpreadMultiplierRunning
	SpreadMultiplierWalking
	SpreadMultiplierCrouching

	IncrementalSpreadMultiplier

	WeaponHandling, higher value is better

	MagazineSize
	ReloadSpeedMultiplier
	CriticalChance

	DamageFalloffRange
	MaxRange,    guns only
	BlockRange,    guns only          tools need to have a longer range for the block raycast for playability
	SpreadDegreesVertical
	SpreadDegreesHorizontal
	KickDegreesVertical
	KickDegreesHorizontal
	BurstRoundCount
	RoundsPerMinute,    guns only
	ExplosionRadius
	RoundRayCount,   now an ammo property
	SphereCastRadius,   guns only  - eventually for melee weapons

	LightIntensity,  the light level (0-15) in the game world

	DegradationMax
	DegradationPerUse

	ModSlots, //Hook Up

	PiercingDamage, //Hook Up
	SlashingDamage, //Hook Up
	BashingDamage, //Hook Up
	CrushingDamage, //Hook Up
	ExplosiveDamage, //Hook Up
	HeatDamage, //Hook Up
	ColdDamage, //Hook Up
	RadiationDamage, //Hook Up
	CorrosiveDamage, //Hook Up
	ElectricalDamage, //Hook Up

= = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
	LIST OF PASSIVE ARMOR EFFECTS

	PiercingProtection
	SlashingProtection
	BashingProtection
	CrushingProtection
	ExplosiveProtection

	//Elemental Damage Types
	HeatProtection
	ColdProtection
	RadiationProtection
	CorrosiveProtection
	ElectricalProtection

	//Internal Body Damage Types (probably more used in mods and on buffs than on armor)
	SuffocationProtection
	DiseaseProtection
	InfectionProtection, //Hook Up
	StarvationProtection, //Hook Up
	DehydrationProtection, //Hook Up
	FeverProtection, //Hook Up

	//Environmental Damage Types
	FallingProtection, //Hook Up


= = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

	VehicleDamagePassedToPlayer
	VehicleSteering
	VehicleMaxSteeringAngle
	VehicleAcceleration
	VehicleBraking
	VehiclePlayerStaminaDrainRate
	VehicleMaxSpeed
	VehicleMetersPerLiter
	VehicleIdleSecondsPerLiter
	VehicleNoise
	VehicleTraction
	VehicleDrag
	VehicleTankSize
	VehicleStorageWidth
	VehicleStorageHeight

	BatteryMaxLoadInVolts
	BatteryDischargeTimeInMinutes


= = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

DAMAGE TYPES

	For buffs these don't do a whole lot but any buff that has a <damage_type value="heat"/> that is not null will
	be taken out with the  RemoveAllNegativeBuffs	 action.

	//Physical Damage Types
	Piercing
	Slashing
	Bashing
	Crushing
	Corrosive

	//Elemental Damage Types
	Heat
	Cold
	Radiation
	Toxic
	Electrical


	//Systemic Damage Types
	Disease
	Infection
	Starvation
	Dehydration
	Falling
	Suffocation
	BloodLoss
	Sprain
	Break
	Stun
	Concuss
	KnockOut
	BlackOut
	KnockDown

= = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
Wishlist:

- A requirement that can check if an item is in the player inventory
- An action to add or remove an item to/from the player inventory.
  If the inventory is full it would drop to the ground.

Obvious usecase:
A pistol expels one casing per shot. These would drop the the ground and would need a small dropmesh.

If you install a brass catcher mod, the items would go into your inventory instead of you having to pick them up from the ground.

This mod would add an invisible perk. That way we can block the "drops to the ground" base feature and instead use the one that the modd adds.

= = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

-->
